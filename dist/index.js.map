{"version":3,"file":"index.js","sources":["../src/math/Vector3.ts","../src/math/Quaternion.ts","../src/events/EventDispatcher.ts","../src/math/Matrix4.ts","../src/events/Events.ts","../src/core/Object3D.ts","../src/math/Matrix3.ts","../src/splats/SplatData.ts","../src/utils/Converter.ts","../src/splats/Splat.ts","../src/cameras/CameraData.ts","../src/math/Vector4.ts","../src/cameras/Camera.ts","../src/core/Scene.ts","../src/utils/LoaderUtils.ts","../src/loaders/Loader.ts","../src/loaders/PLYLoader.ts","../src/renderers/webgl/programs/ShaderProgram.ts","../src/wasm/data.js","../src/renderers/webgl/utils/RenderData.ts","../src/math/Color32.ts","../src/renderers/webgl/programs/RenderProgram.ts","../src/renderers/webgl/passes/FadeInPass.ts","../src/renderers/WebGLRenderer.ts","../src/controls/OrbitControls.ts","../src/math/Plane.ts","../src/renderers/webgl/passes/ShaderPass.ts","../src/wasm/intersect.js","../src/renderers/webgl/utils/IntersectionTester.ts"],"sourcesContent":["import { Matrix4 } from \"./Matrix4\";\r\n\r\nclass Vector3 {\r\n    public readonly x: number;\r\n    public readonly y: number;\r\n    public readonly z: number;\r\n\r\n    constructor(x: number = 0, y: number = 0, z: number = 0) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n    }\r\n\r\n    equals(v: Vector3): boolean {\r\n        if (this.x !== v.x) {\r\n            return false;\r\n        }\r\n        if (this.y !== v.y) {\r\n            return false;\r\n        }\r\n        if (this.z !== v.z) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    add(v: number): Vector3;\r\n    add(v: Vector3): Vector3;\r\n    add(v: number | Vector3): Vector3 {\r\n        if (typeof v === \"number\") {\r\n            return new Vector3(this.x + v, this.y + v, this.z + v);\r\n        } else {\r\n            return new Vector3(this.x + v.x, this.y + v.y, this.z + v.z);\r\n        }\r\n    }\r\n\r\n    subtract(v: number): Vector3;\r\n    subtract(v: Vector3): Vector3;\r\n    subtract(v: number | Vector3): Vector3 {\r\n        if (typeof v === \"number\") {\r\n            return new Vector3(this.x - v, this.y - v, this.z - v);\r\n        } else {\r\n            return new Vector3(this.x - v.x, this.y - v.y, this.z - v.z);\r\n        }\r\n    }\r\n\r\n    multiply(v: number): Vector3;\r\n    multiply(v: Vector3): Vector3;\r\n    multiply(v: Matrix4): Vector3;\r\n    multiply(v: number | Vector3 | Matrix4): Vector3 {\r\n        if (typeof v === \"number\") {\r\n            return new Vector3(this.x * v, this.y * v, this.z * v);\r\n        } else if (v instanceof Vector3) {\r\n            return new Vector3(this.x * v.x, this.y * v.y, this.z * v.z);\r\n        } else {\r\n            return new Vector3(\r\n                this.x * v.buffer[0] + this.y * v.buffer[4] + this.z * v.buffer[8] + v.buffer[12],\r\n                this.x * v.buffer[1] + this.y * v.buffer[5] + this.z * v.buffer[9] + v.buffer[13],\r\n                this.x * v.buffer[2] + this.y * v.buffer[6] + this.z * v.buffer[10] + v.buffer[14],\r\n            );\r\n        }\r\n    }\r\n\r\n    cross(v: Vector3): Vector3 {\r\n        const x = this.y * v.z - this.z * v.y;\r\n        const y = this.z * v.x - this.x * v.z;\r\n        const z = this.x * v.y - this.y * v.x;\r\n\r\n        return new Vector3(x, y, z);\r\n    }\r\n\r\n    dot(v: Vector3): number {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z;\r\n    }\r\n\r\n    lerp(v: Vector3, t: number): Vector3 {\r\n        return new Vector3(this.x + (v.x - this.x) * t, this.y + (v.y - this.y) * t, this.z + (v.z - this.z) * t);\r\n    }\r\n\r\n    magnitude(): number {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\r\n    }\r\n\r\n    distanceTo(v: Vector3): number {\r\n        return Math.sqrt((this.x - v.x) ** 2 + (this.y - v.y) ** 2 + (this.z - v.z) ** 2);\r\n    }\r\n\r\n    normalize(): Vector3 {\r\n        const length = this.magnitude();\r\n\r\n        return new Vector3(this.x / length, this.y / length, this.z / length);\r\n    }\r\n\r\n    flat(): number[] {\r\n        return [this.x, this.y, this.z];\r\n    }\r\n\r\n    clone(): Vector3 {\r\n        return new Vector3(this.x, this.y, this.z);\r\n    }\r\n\r\n    toString(): string {\r\n        return `[${this.flat().join(\", \")}]`;\r\n    }\r\n\r\n    static One(value: number = 1): Vector3 {\r\n        return new Vector3(value, value, value);\r\n    }\r\n}\r\n\r\nexport { Vector3 };\r\n","import { Matrix3 } from \"./Matrix3\";\r\nimport { Vector3 } from \"./Vector3\";\r\n\r\nclass Quaternion {\r\n    public readonly x: number;\r\n    public readonly y: number;\r\n    public readonly z: number;\r\n    public readonly w: number;\r\n\r\n    constructor(x: number = 0, y: number = 0, z: number = 0, w: number = 1) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n\r\n    equals(q: Quaternion): boolean {\r\n        if (this.x !== q.x) {\r\n            return false;\r\n        }\r\n        if (this.y !== q.y) {\r\n            return false;\r\n        }\r\n        if (this.z !== q.z) {\r\n            return false;\r\n        }\r\n        if (this.w !== q.w) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    normalize(): Quaternion {\r\n        const l = Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\r\n        return new Quaternion(this.x / l, this.y / l, this.z / l, this.w / l);\r\n    }\r\n\r\n    multiply(q: Quaternion): Quaternion {\r\n        const w1 = this.w,\r\n            x1 = this.x,\r\n            y1 = this.y,\r\n            z1 = this.z;\r\n        const w2 = q.w,\r\n            x2 = q.x,\r\n            y2 = q.y,\r\n            z2 = q.z;\r\n\r\n        return new Quaternion(\r\n            w1 * x2 + x1 * w2 + y1 * z2 - z1 * y2,\r\n            w1 * y2 - x1 * z2 + y1 * w2 + z1 * x2,\r\n            w1 * z2 + x1 * y2 - y1 * x2 + z1 * w2,\r\n            w1 * w2 - x1 * x2 - y1 * y2 - z1 * z2,\r\n        );\r\n    }\r\n\r\n    inverse(): Quaternion {\r\n        const l = this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\r\n        return new Quaternion(-this.x / l, -this.y / l, -this.z / l, this.w / l);\r\n    }\r\n\r\n    apply(v: Vector3): Vector3 {\r\n        const vecQuat = new Quaternion(v.x, v.y, v.z, 0);\r\n        const conjugate = new Quaternion(-this.x, -this.y, -this.z, this.w);\r\n        const rotatedQuat = this.multiply(vecQuat).multiply(conjugate);\r\n        return new Vector3(rotatedQuat.x, rotatedQuat.y, rotatedQuat.z);\r\n    }\r\n\r\n    flat(): number[] {\r\n        return [this.x, this.y, this.z, this.w];\r\n    }\r\n\r\n    clone(): Quaternion {\r\n        return new Quaternion(this.x, this.y, this.z, this.w);\r\n    }\r\n\r\n    static FromEuler(e: Vector3): Quaternion {\r\n        const halfX = e.x / 2;\r\n        const halfY = e.y / 2;\r\n        const halfZ = e.z / 2;\r\n        const cy = Math.cos(halfY);\r\n        const sy = Math.sin(halfY);\r\n        const cp = Math.cos(halfX);\r\n        const sp = Math.sin(halfX);\r\n        const cz = Math.cos(halfZ);\r\n        const sz = Math.sin(halfZ);\r\n\r\n        const q = new Quaternion(\r\n            cy * sp * cz + sy * cp * sz,\r\n            sy * cp * cz - cy * sp * sz,\r\n            cy * cp * sz - sy * sp * cz,\r\n            cy * cp * cz + sy * sp * sz,\r\n        );\r\n        return q;\r\n    }\r\n\r\n    toEuler(): Vector3 {\r\n        const sinr_cosp = 2 * (this.w * this.x + this.y * this.z);\r\n        const cosr_cosp = 1 - 2 * (this.x * this.x + this.y * this.y);\r\n        const x = Math.atan2(sinr_cosp, cosr_cosp);\r\n\r\n        let y;\r\n        const sinp = 2 * (this.w * this.y - this.z * this.x);\r\n        if (Math.abs(sinp) >= 1) {\r\n            y = (Math.sign(sinp) * Math.PI) / 2;\r\n        } else {\r\n            y = Math.asin(sinp);\r\n        }\r\n\r\n        const siny_cosp = 2 * (this.w * this.z + this.x * this.y);\r\n        const cosy_cosp = 1 - 2 * (this.y * this.y + this.z * this.z);\r\n        const z = Math.atan2(siny_cosp, cosy_cosp);\r\n\r\n        return new Vector3(x, y, z);\r\n    }\r\n\r\n    static FromMatrix3(matrix: Matrix3): Quaternion {\r\n        const m = matrix.buffer;\r\n        const trace = m[0] + m[4] + m[8];\r\n        let x, y, z, w;\r\n        if (trace > 0) {\r\n            const s = 0.5 / Math.sqrt(trace + 1.0);\r\n            w = 0.25 / s;\r\n            x = (m[7] - m[5]) * s;\r\n            y = (m[2] - m[6]) * s;\r\n            z = (m[3] - m[1]) * s;\r\n        } else if (m[0] > m[4] && m[0] > m[8]) {\r\n            const s = 2.0 * Math.sqrt(1.0 + m[0] - m[4] - m[8]);\r\n            w = (m[7] - m[5]) / s;\r\n            x = 0.25 * s;\r\n            y = (m[1] + m[3]) / s;\r\n            z = (m[2] + m[6]) / s;\r\n        } else if (m[4] > m[8]) {\r\n            const s = 2.0 * Math.sqrt(1.0 + m[4] - m[0] - m[8]);\r\n            w = (m[2] - m[6]) / s;\r\n            x = (m[1] + m[3]) / s;\r\n            y = 0.25 * s;\r\n            z = (m[5] + m[7]) / s;\r\n        } else {\r\n            const s = 2.0 * Math.sqrt(1.0 + m[8] - m[0] - m[4]);\r\n            w = (m[3] - m[1]) / s;\r\n            x = (m[2] + m[6]) / s;\r\n            y = (m[5] + m[7]) / s;\r\n            z = 0.25 * s;\r\n        }\r\n        return new Quaternion(x, y, z, w);\r\n    }\r\n\r\n    static FromAxisAngle(axis: Vector3, angle: number): Quaternion {\r\n        const halfAngle = angle / 2;\r\n        const sin = Math.sin(halfAngle);\r\n        const cos = Math.cos(halfAngle);\r\n        return new Quaternion(axis.x * sin, axis.y * sin, axis.z * sin, cos);\r\n    }\r\n\r\n    toString(): string {\r\n        return `[${this.flat().join(\", \")}]`;\r\n    }\r\n}\r\n\r\nexport { Quaternion };\r\n","class EventDispatcher {\r\n    addEventListener: (type: string, listener: (event: Event) => void) => void;\r\n    removeEventListener: (type: string, listener: (event: Event) => void) => void;\r\n    hasEventListener: (type: string, listener: (event: Event) => void) => boolean;\r\n    dispatchEvent: (event: Event) => void;\r\n\r\n    constructor() {\r\n        const listeners = new Map<string, Set<(event: Event) => void>>();\r\n\r\n        this.addEventListener = (type: string, listener: (event: Event) => void) => {\r\n            if (!listeners.has(type)) {\r\n                listeners.set(type, new Set());\r\n            }\r\n\r\n            listeners.get(type)!.add(listener);\r\n        };\r\n\r\n        this.removeEventListener = (type: string, listener: (event: Event) => void) => {\r\n            if (!listeners.has(type)) {\r\n                return;\r\n            }\r\n\r\n            listeners.get(type)!.delete(listener);\r\n        };\r\n\r\n        this.hasEventListener = (type: string, listener: (event: Event) => void) => {\r\n            if (!listeners.has(type)) {\r\n                return false;\r\n            }\r\n\r\n            return listeners.get(type)!.has(listener);\r\n        };\r\n\r\n        this.dispatchEvent = (event: Event) => {\r\n            if (!listeners.has(event.type)) {\r\n                return;\r\n            }\r\n\r\n            for (const listener of listeners.get(event.type)!) {\r\n                listener(event);\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\nexport { EventDispatcher };\r\n","import { Quaternion } from \"./Quaternion\";\r\nimport { Vector3 } from \"./Vector3\";\r\n\r\nclass Matrix4 {\r\n    public readonly buffer: number[];\r\n\r\n    // prettier-ignore\r\n    constructor(n11: number = 1, n12: number = 0, n13: number = 0, n14: number = 0, \r\n                n21: number = 0, n22: number = 1, n23: number = 0, n24: number = 0, \r\n                n31: number = 0, n32: number = 0, n33: number = 1, n34: number = 0, \r\n                n41: number = 0, n42: number = 0, n43: number = 0, n44: number = 1) {\r\n        this.buffer = [\r\n            n11, n12, n13, n14, \r\n            n21, n22, n23, n24, \r\n            n31, n32, n33, n34, \r\n            n41, n42, n43, n44\r\n        ];\r\n    }\r\n\r\n    equals(m: Matrix4): boolean {\r\n        if (this.buffer.length !== m.buffer.length) {\r\n            return false;\r\n        }\r\n        if (this.buffer === m.buffer) {\r\n            return true;\r\n        }\r\n        for (let i = 0; i < this.buffer.length; i++) {\r\n            if (this.buffer[i] !== m.buffer[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    multiply(m: Matrix4): Matrix4 {\r\n        const a = this.buffer;\r\n        const b = m.buffer;\r\n        return new Matrix4(\r\n            b[0] * a[0] + b[1] * a[4] + b[2] * a[8] + b[3] * a[12],\r\n            b[0] * a[1] + b[1] * a[5] + b[2] * a[9] + b[3] * a[13],\r\n            b[0] * a[2] + b[1] * a[6] + b[2] * a[10] + b[3] * a[14],\r\n            b[0] * a[3] + b[1] * a[7] + b[2] * a[11] + b[3] * a[15],\r\n            b[4] * a[0] + b[5] * a[4] + b[6] * a[8] + b[7] * a[12],\r\n            b[4] * a[1] + b[5] * a[5] + b[6] * a[9] + b[7] * a[13],\r\n            b[4] * a[2] + b[5] * a[6] + b[6] * a[10] + b[7] * a[14],\r\n            b[4] * a[3] + b[5] * a[7] + b[6] * a[11] + b[7] * a[15],\r\n            b[8] * a[0] + b[9] * a[4] + b[10] * a[8] + b[11] * a[12],\r\n            b[8] * a[1] + b[9] * a[5] + b[10] * a[9] + b[11] * a[13],\r\n            b[8] * a[2] + b[9] * a[6] + b[10] * a[10] + b[11] * a[14],\r\n            b[8] * a[3] + b[9] * a[7] + b[10] * a[11] + b[11] * a[15],\r\n            b[12] * a[0] + b[13] * a[4] + b[14] * a[8] + b[15] * a[12],\r\n            b[12] * a[1] + b[13] * a[5] + b[14] * a[9] + b[15] * a[13],\r\n            b[12] * a[2] + b[13] * a[6] + b[14] * a[10] + b[15] * a[14],\r\n            b[12] * a[3] + b[13] * a[7] + b[14] * a[11] + b[15] * a[15],\r\n        );\r\n    }\r\n\r\n    clone(): Matrix4 {\r\n        const e = this.buffer;\r\n        // prettier-ignore\r\n        return new Matrix4(\r\n            e[0], e[1], e[2], e[3], \r\n            e[4], e[5], e[6], e[7], \r\n            e[8], e[9], e[10], e[11], \r\n            e[12], e[13], e[14], e[15]\r\n        );\r\n    }\r\n\r\n    determinant(): number {\r\n        const e = this.buffer;\r\n        // prettier-ignore\r\n        return (\r\n            e[12] * e[9] * e[6] * e[3] - e[8] * e[13] * e[6] * e[3] - e[12] * e[5] * e[10] * e[3] + e[4] * e[13] * e[10] * e[3] +\r\n            e[8] * e[5] * e[14] * e[3] - e[4] * e[9] * e[14] * e[3] - e[12] * e[9] * e[2] * e[7] + e[8] * e[13] * e[2] * e[7] +\r\n            e[12] * e[1] * e[10] * e[7] - e[0] * e[13] * e[10] * e[7] - e[8] * e[1] * e[14] * e[7] + e[0] * e[9] * e[14] * e[7] +\r\n            e[12] * e[5] * e[2] * e[11] - e[4] * e[13] * e[2] * e[11] - e[12] * e[1] * e[6] * e[11] + e[0] * e[13] * e[6] * e[11] +\r\n            e[4] * e[1] * e[14] * e[11] - e[0] * e[5] * e[14] * e[11] - e[8] * e[5] * e[2] * e[15] + e[4] * e[9] * e[2] * e[15] +\r\n            e[8] * e[1] * e[6] * e[15] - e[0] * e[9] * e[6] * e[15] - e[4] * e[1] * e[10] * e[15] + e[0] * e[5] * e[10] * e[15]\r\n        );\r\n    }\r\n\r\n    invert(): Matrix4 {\r\n        const e = this.buffer;\r\n        const det = this.determinant();\r\n        if (det === 0) {\r\n            throw new Error(\"Matrix is not invertible.\");\r\n        }\r\n        const invDet = 1 / det;\r\n        // prettier-ignore\r\n        return new Matrix4(\r\n            invDet * (\r\n                e[5] * e[10] * e[15] - e[5] * e[11] * e[14] - e[9] * e[6] * e[15] + e[9] * e[7] * e[14] + e[13] * e[6] * e[11] - e[13] * e[7] * e[10]\r\n            ),\r\n            invDet * (\r\n                -e[1] * e[10] * e[15] + e[1] * e[11] * e[14] + e[9] * e[2] * e[15] - e[9] * e[3] * e[14] - e[13] * e[2] * e[11] + e[13] * e[3] * e[10]\r\n            ),\r\n            invDet * (\r\n                e[1] * e[6] * e[15] - e[1] * e[7] * e[14] - e[5] * e[2] * e[15] + e[5] * e[3] * e[14] + e[13] * e[2] * e[7] - e[13] * e[3] * e[6]\r\n            ),\r\n            invDet * (\r\n                -e[1] * e[6] * e[11] + e[1] * e[7] * e[10] + e[5] * e[2] * e[11] - e[5] * e[3] * e[10] - e[9] * e[2] * e[7] + e[9] * e[3] * e[6]\r\n            ),\r\n            invDet * (\r\n                -e[4] * e[10] * e[15] + e[4] * e[11] * e[14] + e[8] * e[6] * e[15] - e[8] * e[7] * e[14] - e[12] * e[6] * e[11] + e[12] * e[7] * e[10]\r\n            ),\r\n            invDet * (\r\n                e[0] * e[10] * e[15] - e[0] * e[11] * e[14] - e[8] * e[2] * e[15] + e[8] * e[3] * e[14] + e[12] * e[2] * e[11] - e[12] * e[3] * e[10]\r\n            ),\r\n            invDet * (\r\n                -e[0] * e[6] * e[15] + e[0] * e[7] * e[14] + e[4] * e[2] * e[15] - e[4] * e[3] * e[14] - e[12] * e[2] * e[7] + e[12] * e[3] * e[6]\r\n            ),\r\n            invDet * (\r\n                e[0] * e[6] * e[11] - e[0] * e[7] * e[10] - e[4] * e[2] * e[11] + e[4] * e[3] * e[10] + e[8] * e[2] * e[7] - e[8] * e[3] * e[6]\r\n            ),\r\n            invDet * (\r\n                e[4] * e[9] * e[15] - e[4] * e[11] * e[13] - e[8] * e[5] * e[15] + e[8] * e[7] * e[13] + e[12] * e[5] * e[11] - e[12] * e[7] * e[9]\r\n            ),\r\n            invDet * (\r\n                -e[0] * e[9] * e[15] + e[0] * e[11] * e[13] + e[8] * e[1] * e[15] - e[8] * e[3] * e[13] - e[12] * e[1] * e[11] + e[12] * e[3] * e[9]\r\n            ),\r\n            invDet * (\r\n                e[0] * e[5] * e[15] - e[0] * e[7] * e[13] - e[4] * e[1] * e[15] + e[4] * e[3] * e[13] + e[12] * e[1] * e[7] - e[12] * e[3] * e[5]\r\n            ),\r\n            invDet * (\r\n                -e[0] * e[5] * e[11] + e[0] * e[7] * e[9] + e[4] * e[1] * e[11] - e[4] * e[3] * e[9] - e[8] * e[1] * e[7] + e[8] * e[3] * e[5]\r\n            ),\r\n            invDet * (\r\n                -e[4] * e[9] * e[14] + e[4] * e[10] * e[13] + e[8] * e[5] * e[14] - e[8] * e[6] * e[13] - e[12] * e[5] * e[10] + e[12] * e[6] * e[9]\r\n            ),\r\n            invDet * (\r\n                e[0] * e[9] * e[14] - e[0] * e[10] * e[13] - e[8] * e[1] * e[14] + e[8] * e[2] * e[13] + e[12] * e[1] * e[10] - e[12] * e[2] * e[9]\r\n            ),\r\n            invDet * (\r\n                -e[0] * e[5] * e[14] + e[0] * e[6] * e[13] + e[4] * e[1] * e[14] - e[4] * e[2] * e[13] - e[12] * e[1] * e[6] + e[12] * e[2] * e[5]\r\n            ),\r\n            invDet * (\r\n                e[0] * e[5] * e[10] - e[0] * e[6] * e[9] - e[4] * e[1] * e[10] + e[4] * e[2] * e[9] + e[8] * e[1] * e[6] - e[8] * e[2] * e[5]\r\n            ),\r\n        );\r\n    }\r\n\r\n    static Compose(position: Vector3, rotation: Quaternion, scale: Vector3): Matrix4 {\r\n        const x = rotation.x,\r\n            y = rotation.y,\r\n            z = rotation.z,\r\n            w = rotation.w;\r\n        const x2 = x + x,\r\n            y2 = y + y,\r\n            z2 = z + z;\r\n        const xx = x * x2,\r\n            xy = x * y2,\r\n            xz = x * z2;\r\n        const yy = y * y2,\r\n            yz = y * z2,\r\n            zz = z * z2;\r\n        const wx = w * x2,\r\n            wy = w * y2,\r\n            wz = w * z2;\r\n        const sx = scale.x,\r\n            sy = scale.y,\r\n            sz = scale.z;\r\n        // prettier-ignore\r\n        return new Matrix4(\r\n            (1 - (yy + zz)) * sx, (xy + wz) * sx, (xz - wy) * sx, 0,\r\n            (xy - wz) * sy, (1 - (xx + zz)) * sy, (yz + wx) * sy, 0,\r\n            (xz + wy) * sz, (yz - wx) * sz, (1 - (xx + yy)) * sz, 0,\r\n            position.x, position.y, position.z, 1\r\n        );\r\n    }\r\n\r\n    toString(): string {\r\n        return `[${this.buffer.join(\", \")}]`;\r\n    }\r\n}\r\n\r\nexport { Matrix4 };\r\n","import { Object3D } from \"../core/Object3D\";\r\n\r\nclass ObjectAddedEvent extends Event {\r\n    constructor(public object: Object3D) {\r\n        super(\"objectAdded\");\r\n    }\r\n}\r\n\r\nclass ObjectRemovedEvent extends Event {\r\n    constructor(public object: Object3D) {\r\n        super(\"objectRemoved\");\r\n    }\r\n}\r\n\r\nclass ObjectChangedEvent extends Event {\r\n    constructor(public object: Object3D) {\r\n        super(\"objectChanged\");\r\n    }\r\n}\r\n\r\nexport { ObjectAddedEvent, ObjectRemovedEvent, ObjectChangedEvent };\r\n","import { Vector3 } from \"../math/Vector3\";\r\nimport { Quaternion } from \"../math/Quaternion\";\r\nimport { EventDispatcher } from \"../events/EventDispatcher\";\r\nimport { Matrix4 } from \"../math/Matrix4\";\r\nimport { ObjectChangedEvent } from \"../events/Events\";\r\n\r\nabstract class Object3D extends EventDispatcher {\r\n    public positionChanged: boolean = false;\r\n    public rotationChanged: boolean = false;\r\n    public scaleChanged: boolean = false;\r\n\r\n    protected _position: Vector3 = new Vector3();\r\n    protected _rotation: Quaternion = new Quaternion();\r\n    protected _scale: Vector3 = new Vector3(1, 1, 1);\r\n    protected _transform: Matrix4 = new Matrix4();\r\n\r\n    protected _changeEvent = new ObjectChangedEvent(this);\r\n\r\n    update: () => void;\r\n    applyPosition: () => void;\r\n    applyRotation: () => void;\r\n    applyScale: () => void;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.update = () => {};\r\n\r\n        this.applyPosition = () => {\r\n            this.position = new Vector3();\r\n        };\r\n\r\n        this.applyRotation = () => {\r\n            this.rotation = new Quaternion();\r\n        };\r\n\r\n        this.applyScale = () => {\r\n            this.scale = new Vector3(1, 1, 1);\r\n        };\r\n    }\r\n\r\n    protected _updateMatrix() {\r\n        this._transform = Matrix4.Compose(this._position, this._rotation, this._scale);\r\n    }\r\n\r\n    get position() {\r\n        return this._position;\r\n    }\r\n\r\n    set position(position: Vector3) {\r\n        if (!this._position.equals(position)) {\r\n            this._position = position;\r\n            this.positionChanged = true;\r\n            this._updateMatrix();\r\n            this.dispatchEvent(this._changeEvent);\r\n        }\r\n    }\r\n\r\n    get rotation() {\r\n        return this._rotation;\r\n    }\r\n\r\n    set rotation(rotation: Quaternion) {\r\n        if (!this._rotation.equals(rotation)) {\r\n            this._rotation = rotation;\r\n            this.rotationChanged = true;\r\n            this._updateMatrix();\r\n            this.dispatchEvent(this._changeEvent);\r\n        }\r\n    }\r\n\r\n    get scale() {\r\n        return this._scale;\r\n    }\r\n\r\n    set scale(scale: Vector3) {\r\n        if (!this._scale.equals(scale)) {\r\n            this._scale = scale;\r\n            this.scaleChanged = true;\r\n            this._updateMatrix();\r\n            this.dispatchEvent(this._changeEvent);\r\n        }\r\n    }\r\n\r\n    get forward() {\r\n        let forward = new Vector3(0, 0, 1);\r\n        forward = this.rotation.apply(forward);\r\n        return forward;\r\n    }\r\n\r\n    get transform() {\r\n        return this._transform;\r\n    }\r\n}\r\n\r\nexport { Object3D };\r\n","import { Quaternion } from \"./Quaternion\";\r\nimport type { Vector3 } from \"./Vector3\";\r\n\r\nclass Matrix3 {\r\n    public readonly buffer: number[];\r\n\r\n    // prettier-ignore\r\n    constructor(n11: number = 1, n12: number = 0, n13: number = 0,\r\n                n21: number = 0, n22: number = 1, n23: number = 0,\r\n                n31: number = 0, n32: number = 0, n33: number = 1) {\r\n        this.buffer = [\r\n            n11, n12, n13,\r\n            n21, n22, n23,\r\n            n31, n32, n33\r\n        ];\r\n    }\r\n\r\n    equals(m: Matrix3): boolean {\r\n        if (this.buffer.length !== m.buffer.length) {\r\n            return false;\r\n        }\r\n        if (this.buffer === m.buffer) {\r\n            return true;\r\n        }\r\n        for (let i = 0; i < this.buffer.length; i++) {\r\n            if (this.buffer[i] !== m.buffer[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    multiply(v: Matrix3): Matrix3 {\r\n        const a = this.buffer;\r\n        const b = v.buffer;\r\n        return new Matrix3(\r\n            b[0] * a[0] + b[3] * a[1] + b[6] * a[2],\r\n            b[1] * a[0] + b[4] * a[1] + b[7] * a[2],\r\n            b[2] * a[0] + b[5] * a[1] + b[8] * a[2],\r\n            b[0] * a[3] + b[3] * a[4] + b[6] * a[5],\r\n            b[1] * a[3] + b[4] * a[4] + b[7] * a[5],\r\n            b[2] * a[3] + b[5] * a[4] + b[8] * a[5],\r\n            b[0] * a[6] + b[3] * a[7] + b[6] * a[8],\r\n            b[1] * a[6] + b[4] * a[7] + b[7] * a[8],\r\n            b[2] * a[6] + b[5] * a[7] + b[8] * a[8],\r\n        );\r\n    }\r\n\r\n    clone(): Matrix3 {\r\n        const e = this.buffer;\r\n        // prettier-ignore\r\n        return new Matrix3(\r\n            e[0], e[1], e[2],\r\n            e[3], e[4], e[5],\r\n            e[6], e[7], e[8]\r\n        );\r\n    }\r\n\r\n    static Eye(v: number = 1): Matrix3 {\r\n        return new Matrix3(v, 0, 0, 0, v, 0, 0, 0, v);\r\n    }\r\n\r\n    static Diagonal(v: Vector3): Matrix3 {\r\n        return new Matrix3(v.x, 0, 0, 0, v.y, 0, 0, 0, v.z);\r\n    }\r\n\r\n    static RotationFromQuaternion(q: Quaternion): Matrix3 {\r\n        const matrix = new Matrix3(\r\n            1 - 2 * q.y * q.y - 2 * q.z * q.z,\r\n            2 * q.x * q.y - 2 * q.z * q.w,\r\n            2 * q.x * q.z + 2 * q.y * q.w,\r\n            2 * q.x * q.y + 2 * q.z * q.w,\r\n            1 - 2 * q.x * q.x - 2 * q.z * q.z,\r\n            2 * q.y * q.z - 2 * q.x * q.w,\r\n            2 * q.x * q.z - 2 * q.y * q.w,\r\n            2 * q.y * q.z + 2 * q.x * q.w,\r\n            1 - 2 * q.x * q.x - 2 * q.y * q.y,\r\n        );\r\n        return matrix;\r\n    }\r\n\r\n    static RotationFromEuler(m: Vector3): Matrix3 {\r\n        const cx = Math.cos(m.x);\r\n        const sx = Math.sin(m.x);\r\n        const cy = Math.cos(m.y);\r\n        const sy = Math.sin(m.y);\r\n        const cz = Math.cos(m.z);\r\n        const sz = Math.sin(m.z);\r\n\r\n        const rotationMatrix = [\r\n            cy * cz + sy * sx * sz,\r\n            -cy * sz + sy * sx * cz,\r\n            sy * cx,\r\n            cx * sz,\r\n            cx * cz,\r\n            -sx,\r\n            -sy * cz + cy * sx * sz,\r\n            sy * sz + cy * sx * cz,\r\n            cy * cx,\r\n        ];\r\n\r\n        return new Matrix3(...rotationMatrix);\r\n    }\r\n\r\n    toString(): string {\r\n        return `[${this.buffer.join(\", \")}]`;\r\n    }\r\n}\r\n\r\nexport { Matrix3 };\r\n","import { Vector3 } from \"../math/Vector3\";\r\nimport { Quaternion } from \"../math/Quaternion\";\r\nimport { Matrix3 } from \"../math/Matrix3\";\r\n\r\nclass SplatData {\r\n    static RowLength = 3 * 4 + 3 * 4 + 4 + 4;\r\n\r\n    public changed = false;\r\n    public detached = false;\r\n\r\n    private _vertexCount: number;\r\n    private _positions: Float32Array;\r\n    private _rotations: Float32Array;\r\n    private _scales: Float32Array;\r\n    private _colors: Uint8Array;\r\n    private _selection: Uint8Array;\r\n\r\n    translate: (translation: Vector3) => void;\r\n    rotate: (rotation: Quaternion) => void;\r\n    scale: (scale: Vector3) => void;\r\n    serialize: () => Uint8Array;\r\n    reattach: (\r\n        positions: ArrayBufferLike,\r\n        rotations: ArrayBufferLike,\r\n        scales: ArrayBufferLike,\r\n        colors: ArrayBufferLike,\r\n        selection: ArrayBufferLike,\r\n    ) => void;\r\n\r\n    constructor(\r\n        vertexCount: number = 0,\r\n        positions: Float32Array | null = null,\r\n        rotations: Float32Array | null = null,\r\n        scales: Float32Array | null = null,\r\n        colors: Uint8Array | null = null,\r\n    ) {\r\n        this._vertexCount = vertexCount;\r\n        this._positions = positions || new Float32Array(0);\r\n        this._rotations = rotations || new Float32Array(0);\r\n        this._scales = scales || new Float32Array(0);\r\n        this._colors = colors || new Uint8Array(0);\r\n        this._selection = new Uint8Array(this.vertexCount);\r\n\r\n        this.translate = (translation: Vector3) => {\r\n            for (let i = 0; i < this.vertexCount; i++) {\r\n                this.positions[3 * i + 0] += translation.x;\r\n                this.positions[3 * i + 1] += translation.y;\r\n                this.positions[3 * i + 2] += translation.z;\r\n            }\r\n\r\n            this.changed = true;\r\n        };\r\n\r\n        this.rotate = (rotation: Quaternion) => {\r\n            const R = Matrix3.RotationFromQuaternion(rotation).buffer;\r\n            for (let i = 0; i < this.vertexCount; i++) {\r\n                const x = this.positions[3 * i + 0];\r\n                const y = this.positions[3 * i + 1];\r\n                const z = this.positions[3 * i + 2];\r\n\r\n                this.positions[3 * i + 0] = R[0] * x + R[1] * y + R[2] * z;\r\n                this.positions[3 * i + 1] = R[3] * x + R[4] * y + R[5] * z;\r\n                this.positions[3 * i + 2] = R[6] * x + R[7] * y + R[8] * z;\r\n\r\n                const currentRotation = new Quaternion(\r\n                    this.rotations[4 * i + 1],\r\n                    this.rotations[4 * i + 2],\r\n                    this.rotations[4 * i + 3],\r\n                    this.rotations[4 * i + 0],\r\n                );\r\n\r\n                const newRot = rotation.multiply(currentRotation);\r\n                this.rotations[4 * i + 1] = newRot.x;\r\n                this.rotations[4 * i + 2] = newRot.y;\r\n                this.rotations[4 * i + 3] = newRot.z;\r\n                this.rotations[4 * i + 0] = newRot.w;\r\n            }\r\n\r\n            this.changed = true;\r\n        };\r\n\r\n        this.scale = (scale: Vector3) => {\r\n            for (let i = 0; i < this.vertexCount; i++) {\r\n                this.positions[3 * i + 0] *= scale.x;\r\n                this.positions[3 * i + 1] *= scale.y;\r\n                this.positions[3 * i + 2] *= scale.z;\r\n\r\n                this.scales[3 * i + 0] *= scale.x;\r\n                this.scales[3 * i + 1] *= scale.y;\r\n                this.scales[3 * i + 2] *= scale.z;\r\n            }\r\n\r\n            this.changed = true;\r\n        };\r\n\r\n        this.serialize = () => {\r\n            const data = new Uint8Array(this.vertexCount * SplatData.RowLength);\r\n\r\n            const f_buffer = new Float32Array(data.buffer);\r\n            const u_buffer = new Uint8Array(data.buffer);\r\n\r\n            for (let i = 0; i < this.vertexCount; i++) {\r\n                f_buffer[8 * i + 0] = this.positions[3 * i + 0];\r\n                f_buffer[8 * i + 1] = this.positions[3 * i + 1];\r\n                f_buffer[8 * i + 2] = this.positions[3 * i + 2];\r\n\r\n                u_buffer[32 * i + 24 + 0] = this.colors[4 * i + 0];\r\n                u_buffer[32 * i + 24 + 1] = this.colors[4 * i + 1];\r\n                u_buffer[32 * i + 24 + 2] = this.colors[4 * i + 2];\r\n                u_buffer[32 * i + 24 + 3] = this.colors[4 * i + 3];\r\n\r\n                f_buffer[8 * i + 3 + 0] = this.scales[3 * i + 0];\r\n                f_buffer[8 * i + 3 + 1] = this.scales[3 * i + 1];\r\n                f_buffer[8 * i + 3 + 2] = this.scales[3 * i + 2];\r\n\r\n                u_buffer[32 * i + 28 + 0] = (this.rotations[4 * i + 0] * 128 + 128) & 0xff;\r\n                u_buffer[32 * i + 28 + 1] = (this.rotations[4 * i + 1] * 128 + 128) & 0xff;\r\n                u_buffer[32 * i + 28 + 2] = (this.rotations[4 * i + 2] * 128 + 128) & 0xff;\r\n                u_buffer[32 * i + 28 + 3] = (this.rotations[4 * i + 3] * 128 + 128) & 0xff;\r\n            }\r\n\r\n            return data;\r\n        };\r\n\r\n        this.reattach = (\r\n            positions: ArrayBufferLike,\r\n            rotations: ArrayBufferLike,\r\n            scales: ArrayBufferLike,\r\n            colors: ArrayBufferLike,\r\n            selection: ArrayBufferLike,\r\n        ) => {\r\n            console.assert(\r\n                positions.byteLength === this.vertexCount * 3 * 4,\r\n                `Expected ${this.vertexCount * 3 * 4} bytes, got ${positions.byteLength} bytes`,\r\n            );\r\n            this._positions = new Float32Array(positions);\r\n            this._rotations = new Float32Array(rotations);\r\n            this._scales = new Float32Array(scales);\r\n            this._colors = new Uint8Array(colors);\r\n            this._selection = new Uint8Array(selection);\r\n            this.detached = false;\r\n        };\r\n    }\r\n\r\n    static Deserialize(data: Uint8Array): SplatData {\r\n        const vertexCount = data.length / SplatData.RowLength;\r\n        const positions = new Float32Array(3 * vertexCount);\r\n        const rotations = new Float32Array(4 * vertexCount);\r\n        const scales = new Float32Array(3 * vertexCount);\r\n        const colors = new Uint8Array(4 * vertexCount);\r\n\r\n        const f_buffer = new Float32Array(data.buffer);\r\n        const u_buffer = new Uint8Array(data.buffer);\r\n\r\n        for (let i = 0; i < vertexCount; i++) {\r\n            positions[3 * i + 0] = f_buffer[8 * i + 0];\r\n            positions[3 * i + 1] = f_buffer[8 * i + 1];\r\n            positions[3 * i + 2] = f_buffer[8 * i + 2];\r\n\r\n            rotations[4 * i + 0] = (u_buffer[32 * i + 28 + 0] - 128) / 128;\r\n            rotations[4 * i + 1] = (u_buffer[32 * i + 28 + 1] - 128) / 128;\r\n            rotations[4 * i + 2] = (u_buffer[32 * i + 28 + 2] - 128) / 128;\r\n            rotations[4 * i + 3] = (u_buffer[32 * i + 28 + 3] - 128) / 128;\r\n\r\n            scales[3 * i + 0] = f_buffer[8 * i + 3 + 0];\r\n            scales[3 * i + 1] = f_buffer[8 * i + 3 + 1];\r\n            scales[3 * i + 2] = f_buffer[8 * i + 3 + 2];\r\n\r\n            colors[4 * i + 0] = u_buffer[32 * i + 24 + 0];\r\n            colors[4 * i + 1] = u_buffer[32 * i + 24 + 1];\r\n            colors[4 * i + 2] = u_buffer[32 * i + 24 + 2];\r\n            colors[4 * i + 3] = u_buffer[32 * i + 24 + 3];\r\n        }\r\n\r\n        return new SplatData(vertexCount, positions, rotations, scales, colors);\r\n    }\r\n\r\n    getBoundingBox() {\r\n        let minX = Infinity,\r\n            minY = Infinity,\r\n            minZ = Infinity;\r\n        let maxX = -Infinity,\r\n            maxY = -Infinity,\r\n            maxZ = -Infinity;\r\n\r\n        for (let i = 0; i < this.vertexCount; i++) {\r\n            const x = this.positions[3 * i + 0];\r\n            const y = this.positions[3 * i + 1];\r\n            const z = this.positions[3 * i + 2];\r\n\r\n            minX = Math.min(minX, x);\r\n            minY = Math.min(minY, y);\r\n            minZ = Math.min(minZ, z);\r\n\r\n            maxX = Math.max(maxX, x);\r\n            maxY = Math.max(maxY, y);\r\n            maxZ = Math.max(maxZ, z);\r\n        }\r\n\r\n        return {\r\n            min: new Vector3(minX, minY, minZ),\r\n            max: new Vector3(maxX, maxY, maxZ),\r\n        };\r\n    }\r\n\r\n    get vertexCount() {\r\n        return this._vertexCount;\r\n    }\r\n\r\n    get positions() {\r\n        return this._positions;\r\n    }\r\n\r\n    get rotations() {\r\n        return this._rotations;\r\n    }\r\n\r\n    get scales() {\r\n        return this._scales;\r\n    }\r\n\r\n    get colors() {\r\n        return this._colors;\r\n    }\r\n\r\n    get selection() {\r\n        return this._selection;\r\n    }\r\n}\r\n\r\nexport { SplatData };\r\n","import { Quaternion } from \"../math/Quaternion\";\r\n\r\nclass Converter {\r\n    public static SH_C0 = 0.28209479177387814;\r\n\r\n    public static SplatToPLY(buffer: ArrayBuffer, vertexCount: number): ArrayBuffer {\r\n        let header = \"ply\\nformat binary_little_endian 1.0\\n\";\r\n        header += `element vertex ${vertexCount}\\n`;\r\n\r\n        const properties = [\"x\", \"y\", \"z\", \"nx\", \"ny\", \"nz\", \"f_dc_0\", \"f_dc_1\", \"f_dc_2\"];\r\n        for (let i = 0; i < 45; i++) {\r\n            properties.push(`f_rest_${i}`);\r\n        }\r\n        properties.push(\"opacity\");\r\n        properties.push(\"scale_0\");\r\n        properties.push(\"scale_1\");\r\n        properties.push(\"scale_2\");\r\n        properties.push(\"rot_0\");\r\n        properties.push(\"rot_1\");\r\n        properties.push(\"rot_2\");\r\n        properties.push(\"rot_3\");\r\n\r\n        for (const property of properties) {\r\n            header += `property float ${property}\\n`;\r\n        }\r\n        header += \"end_header\\n\";\r\n\r\n        const headerBuffer = new TextEncoder().encode(header);\r\n\r\n        const plyRowLength = 4 * 3 + 4 * 3 + 4 * 3 + 4 * 45 + 4 + 4 * 3 + 4 * 4;\r\n        const plyLength = vertexCount * plyRowLength;\r\n        const output = new DataView(new ArrayBuffer(headerBuffer.length + plyLength));\r\n        new Uint8Array(output.buffer).set(headerBuffer, 0);\r\n\r\n        const f_buffer = new Float32Array(buffer);\r\n        const u_buffer = new Uint8Array(buffer);\r\n\r\n        const offset = headerBuffer.length;\r\n        const f_dc_offset = 4 * 3 + 4 * 3;\r\n        const opacity_offset = f_dc_offset + 4 * 3 + 4 * 45;\r\n        const scale_offset = opacity_offset + 4;\r\n        const rot_offset = scale_offset + 4 * 3;\r\n        for (let i = 0; i < vertexCount; i++) {\r\n            const pos0 = f_buffer[8 * i + 0];\r\n            const pos1 = f_buffer[8 * i + 1];\r\n            const pos2 = f_buffer[8 * i + 2];\r\n\r\n            const f_dc_0 = (u_buffer[32 * i + 24 + 0] / 255 - 0.5) / this.SH_C0;\r\n            const f_dc_1 = (u_buffer[32 * i + 24 + 1] / 255 - 0.5) / this.SH_C0;\r\n            const f_dc_2 = (u_buffer[32 * i + 24 + 2] / 255 - 0.5) / this.SH_C0;\r\n\r\n            const alpha = u_buffer[32 * i + 24 + 3] / 255;\r\n            const opacity = Math.log(alpha / (1 - alpha));\r\n\r\n            const scale0 = Math.log(f_buffer[8 * i + 3 + 0]);\r\n            const scale1 = Math.log(f_buffer[8 * i + 3 + 1]);\r\n            const scale2 = Math.log(f_buffer[8 * i + 3 + 2]);\r\n\r\n            let q = new Quaternion(\r\n                (u_buffer[32 * i + 28 + 1] - 128) / 128,\r\n                (u_buffer[32 * i + 28 + 2] - 128) / 128,\r\n                (u_buffer[32 * i + 28 + 3] - 128) / 128,\r\n                (u_buffer[32 * i + 28 + 0] - 128) / 128,\r\n            );\r\n            q = q.normalize();\r\n\r\n            const rot0 = q.w;\r\n            const rot1 = q.x;\r\n            const rot2 = q.y;\r\n            const rot3 = q.z;\r\n\r\n            output.setFloat32(offset + plyRowLength * i + 0, pos0, true);\r\n            output.setFloat32(offset + plyRowLength * i + 4, pos1, true);\r\n            output.setFloat32(offset + plyRowLength * i + 8, pos2, true);\r\n\r\n            output.setFloat32(offset + plyRowLength * i + f_dc_offset + 0, f_dc_0, true);\r\n            output.setFloat32(offset + plyRowLength * i + f_dc_offset + 4, f_dc_1, true);\r\n            output.setFloat32(offset + plyRowLength * i + f_dc_offset + 8, f_dc_2, true);\r\n\r\n            output.setFloat32(offset + plyRowLength * i + opacity_offset, opacity, true);\r\n\r\n            output.setFloat32(offset + plyRowLength * i + scale_offset + 0, scale0, true);\r\n            output.setFloat32(offset + plyRowLength * i + scale_offset + 4, scale1, true);\r\n            output.setFloat32(offset + plyRowLength * i + scale_offset + 8, scale2, true);\r\n\r\n            output.setFloat32(offset + plyRowLength * i + rot_offset + 0, rot0, true);\r\n            output.setFloat32(offset + plyRowLength * i + rot_offset + 4, rot1, true);\r\n            output.setFloat32(offset + plyRowLength * i + rot_offset + 8, rot2, true);\r\n            output.setFloat32(offset + plyRowLength * i + rot_offset + 12, rot3, true);\r\n        }\r\n\r\n        return output.buffer;\r\n    }\r\n}\r\n\r\nexport { Converter };\r\n","import { SplatData } from \"./SplatData\";\r\nimport { Object3D } from \"../core/Object3D\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\nimport { Quaternion } from \"../math/Quaternion\";\r\nimport { Converter } from \"../utils/Converter\";\r\n\r\nclass Splat extends Object3D {\r\n    public selectedChanged: boolean = false;\r\n\r\n    private _data: SplatData;\r\n    private _selected: boolean = false;\r\n\r\n    constructor(splat: SplatData | undefined = undefined) {\r\n        super();\r\n\r\n        this._data = splat || new SplatData();\r\n\r\n        this.applyPosition = () => {\r\n            this.data.translate(this.position);\r\n            this.position = new Vector3();\r\n        };\r\n\r\n        this.applyRotation = () => {\r\n            this.data.rotate(this.rotation);\r\n            this.rotation = new Quaternion();\r\n        };\r\n\r\n        this.applyScale = () => {\r\n            this.data.scale(this.scale);\r\n            this.scale = new Vector3(1, 1, 1);\r\n        };\r\n    }\r\n\r\n    saveToFile(name: string | null = null, format: string | null = null) {\r\n        if (!document) return;\r\n\r\n        if (!format) {\r\n            format = \"splat\";\r\n        } else if (format !== \"splat\" && format !== \"ply\") {\r\n            throw new Error(\"Invalid format. Must be 'splat' or 'ply'\");\r\n        }\r\n\r\n        if (!name) {\r\n            const now = new Date();\r\n            name = `splat-${now.getFullYear()}-${now.getMonth() + 1}-${now.getDate()}.${format}`;\r\n        }\r\n\r\n        this.applyRotation();\r\n        this.applyScale();\r\n        this.applyPosition();\r\n\r\n        const data = this.data.serialize();\r\n        let blob;\r\n        if (format === \"ply\") {\r\n            const plyData = Converter.SplatToPLY(data.buffer, this.data.vertexCount);\r\n            blob = new Blob([plyData], { type: \"application/octet-stream\" });\r\n        } else {\r\n            blob = new Blob([data.buffer], { type: \"application/octet-stream\" });\r\n        }\r\n\r\n        const link = document.createElement(\"a\");\r\n        link.download = name;\r\n        link.href = URL.createObjectURL(blob);\r\n        link.click();\r\n    }\r\n\r\n    get data() {\r\n        return this._data;\r\n    }\r\n\r\n    get selected() {\r\n        return this._selected;\r\n    }\r\n\r\n    set selected(selected: boolean) {\r\n        if (this._selected !== selected) {\r\n            this._selected = selected;\r\n            this.selectedChanged = true;\r\n            this.dispatchEvent(this._changeEvent);\r\n        }\r\n    }\r\n}\r\n\r\nexport { Splat };\r\n","import { Quaternion } from \"../math/Quaternion\";\r\nimport { Matrix3 } from \"../math/Matrix3\";\r\nimport { Matrix4 } from \"../math/Matrix4\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\n\r\nclass CameraData {\r\n    private _fx: number = 1132;\r\n    private _fy: number = 1132;\r\n    private _near: number = 0.1;\r\n    private _far: number = 100;\r\n\r\n    private _width: number = 512;\r\n    private _height: number = 512;\r\n\r\n    private _projectionMatrix: Matrix4 = new Matrix4();\r\n    private _viewMatrix: Matrix4 = new Matrix4();\r\n    private _viewProj: Matrix4 = new Matrix4();\r\n\r\n    update: (position: Vector3, rotation: Quaternion) => void;\r\n    setSize: (width: number, height: number) => void;\r\n\r\n    private _updateProjectionMatrix: () => void;\r\n\r\n    constructor() {\r\n        this._updateProjectionMatrix = () => {\r\n            // prettier-ignore\r\n            this._projectionMatrix = new Matrix4(\r\n                2 * this.fx / this.width, 0, 0, 0,\r\n                0, -2 * this.fy / this.height, 0, 0,\r\n                0, 0, this.far / (this.far - this.near), 1,\r\n                0, 0, -(this.far * this.near) / (this.far - this.near), 0\r\n            );\r\n\r\n            this._viewProj = this.projectionMatrix.multiply(this.viewMatrix);\r\n        };\r\n\r\n        this.update = (position: Vector3, rotation: Quaternion) => {\r\n            const R = Matrix3.RotationFromQuaternion(rotation).buffer;\r\n            const t = position.flat();\r\n\r\n            // prettier-ignore\r\n            this._viewMatrix = new Matrix4(\r\n                R[0], R[1], R[2], 0,\r\n                R[3], R[4], R[5], 0,\r\n                R[6], R[7], R[8], 0,\r\n                -t[0] * R[0] - t[1] * R[3] - t[2] * R[6],\r\n                -t[0] * R[1] - t[1] * R[4] - t[2] * R[7],\r\n                -t[0] * R[2] - t[1] * R[5] - t[2] * R[8],\r\n                1,\r\n            );\r\n\r\n            this._viewProj = this.projectionMatrix.multiply(this.viewMatrix);\r\n        };\r\n\r\n        this.setSize = (width: number, height: number) => {\r\n            this._width = width;\r\n            this._height = height;\r\n            this._updateProjectionMatrix();\r\n        };\r\n    }\r\n\r\n    get fx() {\r\n        return this._fx;\r\n    }\r\n\r\n    set fx(fx: number) {\r\n        if (this._fx !== fx) {\r\n            this._fx = fx;\r\n            this._updateProjectionMatrix();\r\n        }\r\n    }\r\n\r\n    get fy() {\r\n        return this._fy;\r\n    }\r\n\r\n    set fy(fy: number) {\r\n        if (this._fy !== fy) {\r\n            this._fy = fy;\r\n            this._updateProjectionMatrix();\r\n        }\r\n    }\r\n\r\n    get near() {\r\n        return this._near;\r\n    }\r\n\r\n    set near(near: number) {\r\n        if (this._near !== near) {\r\n            this._near = near;\r\n            this._updateProjectionMatrix();\r\n        }\r\n    }\r\n\r\n    get far() {\r\n        return this._far;\r\n    }\r\n\r\n    set far(far: number) {\r\n        if (this._far !== far) {\r\n            this._far = far;\r\n            this._updateProjectionMatrix();\r\n        }\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    get projectionMatrix() {\r\n        return this._projectionMatrix;\r\n    }\r\n\r\n    get viewMatrix() {\r\n        return this._viewMatrix;\r\n    }\r\n\r\n    get viewProj() {\r\n        return this._viewProj;\r\n    }\r\n}\r\n\r\nexport { CameraData };\r\n","import { Matrix4 } from \"./Matrix4\";\r\n\r\nclass Vector4 {\r\n    public readonly x: number;\r\n    public readonly y: number;\r\n    public readonly z: number;\r\n    public readonly w: number;\r\n\r\n    constructor(x: number = 0, y: number = 0, z: number = 0, w: number = 0) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.w = w;\r\n    }\r\n\r\n    equals(v: Vector4): boolean {\r\n        if (this.x !== v.x) {\r\n            return false;\r\n        }\r\n        if (this.y !== v.y) {\r\n            return false;\r\n        }\r\n        if (this.z !== v.z) {\r\n            return false;\r\n        }\r\n        if (this.w !== v.w) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    add(v: number): Vector4;\r\n    add(v: Vector4): Vector4;\r\n    add(v: number | Vector4): Vector4 {\r\n        if (typeof v === \"number\") {\r\n            return new Vector4(this.x + v, this.y + v, this.z + v, this.w + v);\r\n        } else {\r\n            return new Vector4(this.x + v.x, this.y + v.y, this.z + v.z, this.w + v.w);\r\n        }\r\n    }\r\n\r\n    subtract(v: number): Vector4;\r\n    subtract(v: Vector4): Vector4;\r\n    subtract(v: number | Vector4): Vector4 {\r\n        if (typeof v === \"number\") {\r\n            return new Vector4(this.x - v, this.y - v, this.z - v, this.w - v);\r\n        } else {\r\n            return new Vector4(this.x - v.x, this.y - v.y, this.z - v.z, this.w - v.w);\r\n        }\r\n    }\r\n\r\n    multiply(v: number): Vector4;\r\n    multiply(v: Vector4): Vector4;\r\n    multiply(v: Matrix4): Vector4;\r\n    multiply(v: number | Vector4 | Matrix4): Vector4 {\r\n        if (typeof v === \"number\") {\r\n            return new Vector4(this.x * v, this.y * v, this.z * v, this.w * v);\r\n        } else if (v instanceof Vector4) {\r\n            return new Vector4(this.x * v.x, this.y * v.y, this.z * v.z, this.w * v.w);\r\n        } else {\r\n            return new Vector4(\r\n                this.x * v.buffer[0] + this.y * v.buffer[4] + this.z * v.buffer[8] + this.w * v.buffer[12],\r\n                this.x * v.buffer[1] + this.y * v.buffer[5] + this.z * v.buffer[9] + this.w * v.buffer[13],\r\n                this.x * v.buffer[2] + this.y * v.buffer[6] + this.z * v.buffer[10] + this.w * v.buffer[14],\r\n                this.x * v.buffer[3] + this.y * v.buffer[7] + this.z * v.buffer[11] + this.w * v.buffer[15],\r\n            );\r\n        }\r\n    }\r\n\r\n    dot(v: Vector4): number {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\r\n    }\r\n\r\n    lerp(v: Vector4, t: number): Vector4 {\r\n        return new Vector4(\r\n            this.x + (v.x - this.x) * t,\r\n            this.y + (v.y - this.y) * t,\r\n            this.z + (v.z - this.z) * t,\r\n            this.w + (v.w - this.w) * t,\r\n        );\r\n    }\r\n\r\n    magnitude(): number {\r\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w);\r\n    }\r\n\r\n    distanceTo(v: Vector4): number {\r\n        return Math.sqrt((this.x - v.x) ** 2 + (this.y - v.y) ** 2 + (this.z - v.z) ** 2 + (this.w - v.w) ** 2);\r\n    }\r\n\r\n    normalize(): Vector4 {\r\n        const length = this.magnitude();\r\n\r\n        return new Vector4(this.x / length, this.y / length, this.z / length, this.w / length);\r\n    }\r\n\r\n    flat(): number[] {\r\n        return [this.x, this.y, this.z, this.w];\r\n    }\r\n\r\n    clone(): Vector4 {\r\n        return new Vector4(this.x, this.y, this.z, this.w);\r\n    }\r\n\r\n    toString(): string {\r\n        return `[${this.flat().join(\", \")}]`;\r\n    }\r\n}\r\n\r\nexport { Vector4 };\r\n","import { CameraData } from \"./CameraData\";\r\nimport { Object3D } from \"../core/Object3D\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\nimport { Vector4 } from \"../math/Vector4\";\r\n\r\nclass Camera extends Object3D {\r\n    private _data: CameraData;\r\n\r\n    screenPointToRay: (x: number, y: number) => Vector3;\r\n\r\n    constructor(camera: CameraData | undefined = undefined) {\r\n        super();\r\n\r\n        this._data = camera ? camera : new CameraData();\r\n        this._position = new Vector3(0, 0, -5);\r\n\r\n        this.update = () => {\r\n            this.data.update(this.position, this.rotation);\r\n        };\r\n\r\n        this.screenPointToRay = (x: number, y: number) => {\r\n            const clipSpaceCoords = new Vector4(x, y, -1, 1);\r\n            const inverseProjectionMatrix = this._data.projectionMatrix.invert();\r\n            const cameraSpaceCoords = clipSpaceCoords.multiply(inverseProjectionMatrix);\r\n            const inverseViewMatrix = this._data.viewMatrix.invert();\r\n            const worldSpaceCoords = cameraSpaceCoords.multiply(inverseViewMatrix);\r\n            const worldSpacePosition = new Vector3(\r\n                worldSpaceCoords.x / worldSpaceCoords.w,\r\n                worldSpaceCoords.y / worldSpaceCoords.w,\r\n                worldSpaceCoords.z / worldSpaceCoords.w,\r\n            );\r\n            const direction = worldSpacePosition.subtract(this.position).normalize();\r\n            return direction;\r\n        };\r\n    }\r\n\r\n    get data() {\r\n        return this._data;\r\n    }\r\n}\r\n\r\nexport { Camera };\r\n","import { Object3D } from \"./Object3D\";\r\nimport { SplatData } from \"../splats/SplatData\";\r\nimport { Splat } from \"../splats/Splat\";\r\nimport { EventDispatcher } from \"../events/EventDispatcher\";\r\nimport { ObjectAddedEvent, ObjectRemovedEvent } from \"../events/Events\";\r\nimport { Converter } from \"../utils/Converter\";\r\n\r\nclass Scene extends EventDispatcher {\r\n    private _objects: Object3D[] = [];\r\n\r\n    addObject: (object: Object3D) => void;\r\n    removeObject: (object: Object3D) => void;\r\n    findObject: (predicate: (object: Object3D) => boolean) => Object3D | undefined;\r\n    findObjectOfType: <T extends Object3D>(type: { new (): T }) => T | undefined;\r\n    reset: () => void;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.addObject = (object: Object3D) => {\r\n            this.objects.push(object);\r\n            this.dispatchEvent(new ObjectAddedEvent(object));\r\n        };\r\n\r\n        this.removeObject = (object: Object3D) => {\r\n            const index = this.objects.indexOf(object);\r\n            if (index < 0) {\r\n                throw new Error(\"Object not found in scene\");\r\n            }\r\n            this.objects.splice(index, 1);\r\n            this.dispatchEvent(new ObjectRemovedEvent(object));\r\n        };\r\n\r\n        this.findObject = (predicate: (object: Object3D) => boolean) => {\r\n            for (const object of this.objects) {\r\n                if (predicate(object)) {\r\n                    return object;\r\n                }\r\n            }\r\n            return undefined;\r\n        };\r\n\r\n        this.findObjectOfType = <T extends Object3D>(type: { new (): T }) => {\r\n            for (const object of this.objects) {\r\n                if (object instanceof type) {\r\n                    return object;\r\n                }\r\n            }\r\n            return undefined;\r\n        };\r\n\r\n        this.reset = () => {\r\n            const objectsToRemove = this.objects.slice();\r\n            for (const object of objectsToRemove) {\r\n                this.removeObject(object);\r\n            }\r\n        };\r\n\r\n        this.reset();\r\n    }\r\n\r\n    saveToFile(name: string | null = null, format: string | null = null) {\r\n        if (!document) return;\r\n\r\n        if (!format) {\r\n            format = \"splat\";\r\n        } else if (format !== \"splat\" && format !== \"ply\") {\r\n            throw new Error(\"Invalid format. Must be 'splat' or 'ply'\");\r\n        }\r\n\r\n        if (!name) {\r\n            const now = new Date();\r\n            name = `scene-${now.getFullYear()}-${now.getMonth() + 1}-${now.getDate()}.${format}`;\r\n        }\r\n\r\n        const buffers: Uint8Array[] = [];\r\n        let vertexCount = 0;\r\n\r\n        for (const object of this.objects) {\r\n            object.applyRotation();\r\n            object.applyScale();\r\n            object.applyPosition();\r\n            if (object instanceof Splat) {\r\n                const buffer = object.data.serialize();\r\n                buffers.push(buffer);\r\n                vertexCount += object.data.vertexCount;\r\n            }\r\n        }\r\n\r\n        const data = new Uint8Array(vertexCount * SplatData.RowLength);\r\n        let offset = 0;\r\n        for (const buffer of buffers) {\r\n            data.set(buffer, offset);\r\n            offset += buffer.length;\r\n        }\r\n\r\n        let blob;\r\n        if (format === \"ply\") {\r\n            const plyData = Converter.SplatToPLY(data.buffer, vertexCount);\r\n            blob = new Blob([plyData], { type: \"application/octet-stream\" });\r\n        } else {\r\n            blob = new Blob([data.buffer], { type: \"application/octet-stream\" });\r\n        }\r\n\r\n        const link = document.createElement(\"a\");\r\n        link.download = name;\r\n        link.href = URL.createObjectURL(blob);\r\n        link.click();\r\n    }\r\n\r\n    get objects() {\r\n        return this._objects;\r\n    }\r\n}\r\n\r\nexport { Scene };\r\n","export async function initiateFetchRequest(url: string, useCache: boolean): Promise<Response> {\r\n    const req = await fetch(url, {\r\n        mode: \"cors\",\r\n        credentials: \"omit\",\r\n        cache: useCache ? \"force-cache\" : \"default\",\r\n    });\r\n\r\n    if (req.status != 200) {\r\n        throw new Error(req.status + \" Unable to load \" + req.url);\r\n    }\r\n\r\n    return req;\r\n}\r\n\r\nexport async function loadDataIntoBuffer(res: Response, onProgress?: (progress: number) => void): Promise<Uint8Array> {\r\n    const reader = res.body!.getReader();\r\n\r\n    const contentLength = parseInt(res.headers.get(\"content-length\") as string);\r\n    const buffer = new Uint8Array(contentLength);\r\n\r\n    let bytesRead = 0;\r\n\r\n    // eslint-disable-next-line no-constant-condition\r\n    while (true) {\r\n        const { done, value } = await reader.read();\r\n        if (done) break;\r\n\r\n        buffer.set(value, bytesRead);\r\n        bytesRead += value.length;\r\n        onProgress?.(bytesRead / contentLength);\r\n    }\r\n\r\n    return buffer;\r\n}\r\n\r\nexport async function loadChunkedDataIntoBuffer(\r\n    res: Response,\r\n    onProgress?: (progress: number) => void,\r\n): Promise<Uint8Array> {\r\n    const reader = res.body!.getReader();\r\n\r\n    const chunks = [];\r\n    let receivedLength = 0;\r\n    // eslint-disable-next-line no-constant-condition\r\n    while (true) {\r\n        const { done, value } = await reader.read();\r\n        if (done) break;\r\n\r\n        chunks.push(value);\r\n        receivedLength += value.length;\r\n    }\r\n\r\n    const buffer = new Uint8Array(receivedLength);\r\n    let position = 0;\r\n    for (const chunk of chunks) {\r\n        buffer.set(chunk, position);\r\n        position += chunk.length;\r\n\r\n        onProgress?.(position / receivedLength);\r\n    }\r\n\r\n    return buffer;\r\n}\r\n\r\nexport async function loadRequestDataIntoBuffer(\r\n    res: Response,\r\n    onProgress?: (progress: number) => void,\r\n): Promise<Uint8Array> {\r\n    if (res.headers.has(\"content-length\")) {\r\n        return loadDataIntoBuffer(res, onProgress);\r\n    } else {\r\n        return loadChunkedDataIntoBuffer(res, onProgress);\r\n    }\r\n}\r\n","import type { Scene } from \"../core/Scene\";\r\nimport { Splat } from \"../splats/Splat\";\r\nimport { SplatData } from \"../splats/SplatData\";\r\nimport { initiateFetchRequest, loadRequestDataIntoBuffer } from \"../utils/LoaderUtils\";\r\n\r\nclass Loader {\r\n    static async LoadAsync(\r\n        url: string,\r\n        scene: Scene,\r\n        onProgress?: (progress: number) => void,\r\n        useCache: boolean = false,\r\n    ): Promise<Splat> {\r\n        const res: Response = await initiateFetchRequest(url, useCache);\r\n\r\n        const buffer = await loadRequestDataIntoBuffer(res, onProgress);\r\n\r\n        const data = SplatData.Deserialize(buffer);\r\n        const splat = new Splat(data);\r\n        scene.addObject(splat);\r\n        return splat;\r\n    }\r\n\r\n    static async LoadFromFileAsync(file: File, scene: Scene, onProgress?: (progress: number) => void): Promise<Splat> {\r\n        const reader = new FileReader();\r\n        let splat = new Splat();\r\n        reader.onload = (e) => {\r\n            const buffer = new Uint8Array(e.target!.result as ArrayBuffer);\r\n            const data = SplatData.Deserialize(buffer);\r\n            splat = new Splat(data);\r\n            scene.addObject(splat);\r\n        };\r\n        reader.onprogress = (e) => {\r\n            onProgress?.(e.loaded / e.total);\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n        await new Promise<void>((resolve) => {\r\n            reader.onloadend = () => {\r\n                resolve();\r\n            };\r\n        });\r\n        return splat;\r\n    }\r\n}\r\n\r\nexport { Loader };\r\n","import { Scene } from \"../core/Scene\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\nimport { Quaternion } from \"../math/Quaternion\";\r\nimport { SplatData } from \"../splats/SplatData\";\r\nimport { Splat } from \"../splats/Splat\";\r\nimport { Converter } from \"../utils/Converter\";\r\nimport { initiateFetchRequest, loadRequestDataIntoBuffer } from \"../utils/LoaderUtils\";\r\n\r\nclass PLYLoader {\r\n    static async LoadAsync(\r\n        url: string,\r\n        scene: Scene,\r\n        onProgress?: (progress: number) => void,\r\n        format: string = \"\",\r\n        useCache: boolean = false,\r\n    ): Promise<Splat> {\r\n        const res: Response = await initiateFetchRequest(url, useCache);\r\n\r\n        const plyData = await loadRequestDataIntoBuffer(res, onProgress);\r\n\r\n        if (plyData[0] !== 112 || plyData[1] !== 108 || plyData[2] !== 121 || plyData[3] !== 10) {\r\n            throw new Error(\"Invalid PLY file\");\r\n        }\r\n\r\n        const buffer = new Uint8Array(this._ParsePLYBuffer(plyData.buffer, format));\r\n        const data = SplatData.Deserialize(buffer);\r\n        const splat = new Splat(data);\r\n        scene.addObject(splat);\r\n        return splat;\r\n    }\r\n\r\n    static async LoadFromFileAsync(\r\n        file: File,\r\n        scene: Scene,\r\n        onProgress?: (progress: number) => void,\r\n        format: string = \"\",\r\n    ): Promise<Splat> {\r\n        const reader = new FileReader();\r\n        let splat = new Splat();\r\n        reader.onload = (e) => {\r\n            const buffer = new Uint8Array(this._ParsePLYBuffer(e.target!.result as ArrayBuffer, format));\r\n            const data = SplatData.Deserialize(buffer);\r\n            splat = new Splat(data);\r\n            scene.addObject(splat);\r\n        };\r\n        reader.onprogress = (e) => {\r\n            onProgress?.(e.loaded / e.total);\r\n        };\r\n        reader.readAsArrayBuffer(file);\r\n        await new Promise<void>((resolve) => {\r\n            reader.onloadend = () => {\r\n                resolve();\r\n            };\r\n        });\r\n        return splat;\r\n    }\r\n\r\n    private static _ParsePLYBuffer(inputBuffer: ArrayBuffer, format: string): ArrayBuffer {\r\n        type PlyProperty = {\r\n            name: string;\r\n            type: string;\r\n            offset: number;\r\n        };\r\n\r\n        const ubuf = new Uint8Array(inputBuffer);\r\n        const headerText = new TextDecoder().decode(ubuf.slice(0, 1024 * 10));\r\n        const header_end = \"end_header\\n\";\r\n        const header_end_index = headerText.indexOf(header_end);\r\n        if (header_end_index < 0) throw new Error(\"Unable to read .ply file header\");\r\n\r\n        const vertexCount = parseInt(/element vertex (\\d+)\\n/.exec(headerText)![1]);\r\n\r\n        let rowOffset = 0;\r\n        const offsets: Record<string, number> = {\r\n            double: 8,\r\n            int: 4,\r\n            uint: 4,\r\n            float: 4,\r\n            short: 2,\r\n            ushort: 2,\r\n            uchar: 1,\r\n        };\r\n\r\n        const properties: PlyProperty[] = [];\r\n        for (const prop of headerText\r\n            .slice(0, header_end_index)\r\n            .split(\"\\n\")\r\n            .filter((k) => k.startsWith(\"property \"))) {\r\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n            const [_p, type, name] = prop.split(\" \");\r\n            properties.push({ name, type, offset: rowOffset });\r\n            if (!offsets[type]) throw new Error(`Unsupported property type: ${type}`);\r\n            rowOffset += offsets[type];\r\n        }\r\n\r\n        const dataView = new DataView(inputBuffer, header_end_index + header_end.length);\r\n        const buffer = new ArrayBuffer(SplatData.RowLength * vertexCount);\r\n\r\n        const q_polycam = Quaternion.FromEuler(new Vector3(Math.PI / 2, 0, 0));\r\n\r\n        for (let i = 0; i < vertexCount; i++) {\r\n            const position = new Float32Array(buffer, i * SplatData.RowLength, 3);\r\n            const scale = new Float32Array(buffer, i * SplatData.RowLength + 12, 3);\r\n            const rgba = new Uint8ClampedArray(buffer, i * SplatData.RowLength + 24, 4);\r\n            const rot = new Uint8ClampedArray(buffer, i * SplatData.RowLength + 28, 4);\r\n\r\n            let r0: number = 255;\r\n            let r1: number = 0;\r\n            let r2: number = 0;\r\n            let r3: number = 0;\r\n\r\n            properties.forEach((property) => {\r\n                let value;\r\n                switch (property.type) {\r\n                    case \"float\":\r\n                        value = dataView.getFloat32(property.offset + i * rowOffset, true);\r\n                        break;\r\n                    case \"int\":\r\n                        value = dataView.getInt32(property.offset + i * rowOffset, true);\r\n                        break;\r\n                    default:\r\n                        throw new Error(`Unsupported property type: ${property.type}`);\r\n                }\r\n\r\n                switch (property.name) {\r\n                    case \"x\":\r\n                        position[0] = value;\r\n                        break;\r\n                    case \"y\":\r\n                        position[1] = value;\r\n                        break;\r\n                    case \"z\":\r\n                        position[2] = value;\r\n                        break;\r\n                    case \"scale_0\":\r\n                        scale[0] = Math.exp(value);\r\n                        break;\r\n                    case \"scale_1\":\r\n                        scale[1] = Math.exp(value);\r\n                        break;\r\n                    case \"scale_2\":\r\n                        scale[2] = Math.exp(value);\r\n                        break;\r\n                    case \"red\":\r\n                        rgba[0] = value;\r\n                        break;\r\n                    case \"green\":\r\n                        rgba[1] = value;\r\n                        break;\r\n                    case \"blue\":\r\n                        rgba[2] = value;\r\n                        break;\r\n                    case \"f_dc_0\":\r\n                        rgba[0] = (0.5 + Converter.SH_C0 * value) * 255;\r\n                        break;\r\n                    case \"f_dc_1\":\r\n                        rgba[1] = (0.5 + Converter.SH_C0 * value) * 255;\r\n                        break;\r\n                    case \"f_dc_2\":\r\n                        rgba[2] = (0.5 + Converter.SH_C0 * value) * 255;\r\n                        break;\r\n                    case \"f_dc_3\":\r\n                        rgba[3] = (0.5 + Converter.SH_C0 * value) * 255;\r\n                        break;\r\n                    case \"opacity\":\r\n                        rgba[3] = (1 / (1 + Math.exp(-value))) * 255;\r\n                        break;\r\n                    case \"rot_0\":\r\n                        r0 = value;\r\n                        break;\r\n                    case \"rot_1\":\r\n                        r1 = value;\r\n                        break;\r\n                    case \"rot_2\":\r\n                        r2 = value;\r\n                        break;\r\n                    case \"rot_3\":\r\n                        r3 = value;\r\n                        break;\r\n                }\r\n            });\r\n\r\n            let q = new Quaternion(r1, r2, r3, r0);\r\n\r\n            switch (format) {\r\n                case \"polycam\": {\r\n                    const temp = position[1];\r\n                    position[1] = -position[2];\r\n                    position[2] = temp;\r\n                    q = q_polycam.multiply(q);\r\n                    break;\r\n                }\r\n                case \"\":\r\n                    break;\r\n                default:\r\n                    throw new Error(`Unsupported format: ${format}`);\r\n            }\r\n\r\n            q = q.normalize();\r\n            rot[0] = q.w * 128 + 128;\r\n            rot[1] = q.x * 128 + 128;\r\n            rot[2] = q.y * 128 + 128;\r\n            rot[3] = q.z * 128 + 128;\r\n        }\r\n\r\n        return buffer;\r\n    }\r\n}\r\n\r\nexport { PLYLoader };\r\n","import { Camera } from \"../../../cameras/Camera\";\r\nimport { Scene } from \"../../../core/Scene\";\r\nimport { WebGLRenderer } from \"../../WebGLRenderer\";\r\nimport { ShaderPass } from \"../passes/ShaderPass\";\r\n\r\nabstract class ShaderProgram {\r\n    private _renderer: WebGLRenderer;\r\n    private _program: WebGLProgram;\r\n    private _passes: ShaderPass[];\r\n\r\n    protected _scene: Scene | null = null;\r\n    protected _camera: Camera | null = null;\r\n    protected _started: boolean = false;\r\n    protected _initialized: boolean = false;\r\n\r\n    protected abstract _initialize: () => void;\r\n    protected abstract _resize: () => void;\r\n    protected abstract _render: () => void;\r\n    protected abstract _dispose: () => void;\r\n\r\n    initialize: () => void;\r\n    resize: () => void;\r\n    render: (scene: Scene, camera: Camera) => void;\r\n    dispose: () => void;\r\n\r\n    constructor(renderer: WebGLRenderer, passes: ShaderPass[]) {\r\n        this._renderer = renderer;\r\n        const gl = renderer.gl;\r\n\r\n        this._program = gl.createProgram() as WebGLProgram;\r\n        this._passes = passes || [];\r\n\r\n        const vertexShader = gl.createShader(gl.VERTEX_SHADER) as WebGLShader;\r\n        gl.shaderSource(vertexShader, this._getVertexSource());\r\n        gl.compileShader(vertexShader);\r\n        if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\r\n            console.error(gl.getShaderInfoLog(vertexShader));\r\n        }\r\n\r\n        const fragmentShader = gl.createShader(gl.FRAGMENT_SHADER) as WebGLShader;\r\n        gl.shaderSource(fragmentShader, this._getFragmentSource());\r\n        gl.compileShader(fragmentShader);\r\n        if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\r\n            console.error(gl.getShaderInfoLog(fragmentShader));\r\n        }\r\n\r\n        gl.attachShader(this.program, vertexShader);\r\n        gl.attachShader(this.program, fragmentShader);\r\n        gl.linkProgram(this.program);\r\n        if (!gl.getProgramParameter(this.program, gl.LINK_STATUS)) {\r\n            console.error(gl.getProgramInfoLog(this.program));\r\n        }\r\n\r\n        this.resize = () => {\r\n            gl.useProgram(this._program);\r\n\r\n            this._resize();\r\n        };\r\n\r\n        this.initialize = () => {\r\n            console.assert(!this._initialized, \"ShaderProgram already initialized\");\r\n\r\n            gl.useProgram(this._program);\r\n\r\n            this._initialize();\r\n            for (const pass of this.passes) {\r\n                pass.initialize(this);\r\n            }\r\n\r\n            this._initialized = true;\r\n            this._started = true;\r\n        };\r\n\r\n        this.render = (scene: Scene, camera: Camera) => {\r\n            gl.useProgram(this._program);\r\n\r\n            if (this._scene !== scene || this._camera !== camera) {\r\n                this.dispose();\r\n                this._scene = scene;\r\n                this._camera = camera;\r\n                this.initialize();\r\n            }\r\n\r\n            for (const pass of this.passes) {\r\n                pass.render();\r\n            }\r\n\r\n            this._render();\r\n        };\r\n\r\n        this.dispose = () => {\r\n            if (!this._initialized) return;\r\n\r\n            gl.useProgram(this._program);\r\n\r\n            for (const pass of this.passes) {\r\n                pass.dispose();\r\n            }\r\n\r\n            this._dispose();\r\n\r\n            this._scene = null;\r\n            this._camera = null;\r\n            this._initialized = false;\r\n        };\r\n    }\r\n\r\n    get renderer() {\r\n        return this._renderer;\r\n    }\r\n\r\n    get scene() {\r\n        return this._scene;\r\n    }\r\n\r\n    get camera() {\r\n        return this._camera;\r\n    }\r\n\r\n    get program() {\r\n        return this._program;\r\n    }\r\n\r\n    get passes() {\r\n        return this._passes;\r\n    }\r\n\r\n    get started() {\r\n        return this._started;\r\n    }\r\n\r\n    protected abstract _getVertexSource(): string;\r\n    protected abstract _getFragmentSource(): string;\r\n}\r\n\r\nexport { ShaderProgram };\r\n","\r\nvar loadWasm = (() => {\r\n  var _scriptDir = import.meta.url;\r\n  \r\n  return (\r\nfunction(moduleArg = {}) {\r\n\r\nvar Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module[\"ready\"]=new Promise((resolve,reject)=>{readyPromiseResolve=resolve;readyPromiseReject=reject});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram=\"./this.program\";var quit_=(status,toThrow)=>{throw toThrow};var ENVIRONMENT_IS_WEB=false;var ENVIRONMENT_IS_WORKER=true;var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary;if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!=\"undefined\"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.startsWith(\"blob:\")){scriptDirectory=\"\"}else{scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1)}{read_=url=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=(url,onload,onerror)=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}}else{}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];if(Module[\"quit\"])quit_=Module[\"quit\"];var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];if(typeof WebAssembly!=\"object\"){abort(\"no native wasm support detected\")}function intArrayFromBase64(s){var decoded=atob(s);var bytes=new Uint8Array(decoded.length);for(var i=0;i<decoded.length;++i){bytes[i]=decoded.charCodeAt(i)}return bytes}function tryParseAsDataURI(filename){if(!isDataURI(filename)){return}return intArrayFromBase64(filename.slice(dataURIPrefix.length))}var wasmMemory;var ABORT=false;var EXITSTATUS;var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module[\"HEAP8\"]=HEAP8=new Int8Array(b);Module[\"HEAP16\"]=HEAP16=new Int16Array(b);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(b);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(b);Module[\"HEAP32\"]=HEAP32=new Int32Array(b);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(b);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(b);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(b)}var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;Module[\"monitorRunDependencies\"]?.(runDependencies)}function removeRunDependency(id){runDependencies--;Module[\"monitorRunDependencies\"]?.(runDependencies);if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){Module[\"onAbort\"]?.(what);what=\"Aborted(\"+what+\")\";err(what);ABORT=true;EXITSTATUS=1;what+=\". Build with -sASSERTIONS for more info.\";var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}var dataURIPrefix=\"data:application/octet-stream;base64,\";var isDataURI=filename=>filename.startsWith(dataURIPrefix);var wasmBinaryFile;wasmBinaryFile=\"data:application/octet-stream;base64,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eV92aWV3PHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBzaG9ydD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGZsb2F0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50OF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQxNl90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50NjRfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50NjRfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDMyX3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGNoYXI+AHN0ZDo6YmFzaWNfc3RyaW5nPHVuc2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHNpZ25lZCBjaGFyPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1bnNpZ25lZCBsb25nPgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxkb3VibGU+AE5TdDNfXzIxMmJhc2ljX3N0cmluZ0ljTlNfMTFjaGFyX3RyYWl0c0ljRUVOU185YWxsb2NhdG9ySWNFRUVFAAAAAJQMAAAyBwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSWhOU18xMWNoYXJfdHJhaXRzSWhFRU5TXzlhbGxvY2F0b3JJaEVFRUUAAJQMAAB8BwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSXdOU18xMWNoYXJfdHJhaXRzSXdFRU5TXzlhbGxvY2F0b3JJd0VFRUUAAJQMAADEBwAATlN0M19fMjEyYmFzaWNfc3RyaW5nSURzTlNfMTFjaGFyX3RyYWl0c0lEc0VFTlNfOWFsbG9jYXRvcklEc0VFRUUAAACUDAAADAgAAE5TdDNfXzIxMmJhc2ljX3N0cmluZ0lEaU5TXzExY2hhcl90cmFpdHNJRGlFRU5TXzlhbGxvY2F0b3JJRGlFRUVFAAAAlAwAAFgIAABOMTBlbXNjcmlwdGVuM3ZhbEUAAJQMAACkCAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJY0VFAACUDAAAwAgAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWFFRQAAlAwAAOgIAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0loRUUAAJQMAAAQCQAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJc0VFAACUDAAAOAkAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SXRFRQAAlAwAAGAJAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lpRUUAAJQMAACICQAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJakVFAACUDAAAsAkAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWxFRQAAlAwAANgJAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0ltRUUAAJQMAAAACgAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJeEVFAACUDAAAKAoAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SXlFRQAAlAwAAFAKAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lmRUUAAJQMAAB4CgAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJZEVFAACUDAAAoAoAAE4xMF9fY3h4YWJpdjExNl9fc2hpbV90eXBlX2luZm9FAAAAALwMAADICgAAIA0AAE4xMF9fY3h4YWJpdjExN19fY2xhc3NfdHlwZV9pbmZvRQAAALwMAAD4CgAA7AoAAE4xMF9fY3h4YWJpdjExN19fcGJhc2VfdHlwZV9pbmZvRQAAALwMAAAoCwAA7AoAAE4xMF9fY3h4YWJpdjExOV9fcG9pbnRlcl90eXBlX2luZm9FALwMAABYCwAATAsAAAAAAADMCwAAAgAAAAMAAAAEAAAABQAAAAYAAABOMTBfX2N4eGFiaXYxMjNfX2Z1bmRhbWVudGFsX3R5cGVfaW5mb0UAvAwAAKQLAADsCgAAdgAAAJALAADYCwAAYgAAAJALAADkCwAAYwAAAJALAADwCwAAaAAAAJALAAD8CwAAYQAAAJALAAAIDAAAcwAAAJALAAAUDAAAdAAAAJALAAAgDAAAaQAAAJALAAAsDAAAagAAAJALAAA4DAAAbAAAAJALAABEDAAAbQAAAJALAABQDAAAeAAAAJALAABcDAAAeQAAAJALAABoDAAAZgAAAJALAAB0DAAAZAAAAJALAACADAAAAAAAABwLAAACAAAABwAAAAQAAAAFAAAACAAAAAkAAAAKAAAACwAAAAAAAAAEDQAAAgAAAAwAAAAEAAAABQAAAAgAAAANAAAADgAAAA8AAABOMTBfX2N4eGFiaXYxMjBfX3NpX2NsYXNzX3R5cGVfaW5mb0UAAAAAvAwAANwMAAAcCwAAU3Q5dHlwZV9pbmZvAAAAAJQMAAAQDQBBqBoLAzAPAQ==\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}var binary=tryParseAsDataURI(file);if(binary){return binary}if(readBinary){return readBinary(file)}throw\"both async and sync fetching of the wasm failed\"}function getBinaryPromise(binaryFile){return Promise.resolve().then(()=>getBinarySync(binaryFile))}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(binary=>WebAssembly.instantiate(binary,imports)).then(receiver,reason=>{err(`failed to asynchronously prepare wasm: ${reason}`);abort(reason)})}function instantiateAsync(binary,binaryFile,imports,callback){return instantiateArrayBuffer(binaryFile,imports,callback)}function createWasm(){var info={\"a\":wasmImports};function receiveInstance(instance,module){wasmExports=instance.exports;wasmMemory=wasmExports[\"k\"];updateMemoryViews();addOnInit(wasmExports[\"l\"]);removeRunDependency(\"wasm-instantiate\");return wasmExports}addRunDependency(\"wasm-instantiate\");function receiveInstantiationResult(result){receiveInstance(result[\"instance\"])}if(Module[\"instantiateWasm\"]){try{return Module[\"instantiateWasm\"](info,receiveInstance)}catch(e){err(`Module.instantiateWasm callback failed with error: ${e}`);readyPromiseReject(e)}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult).catch(readyPromiseReject);return{}}var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};var noExitRuntime=Module[\"noExitRuntime\"]||true;var __embind_register_bigint=(primitiveType,name,size,minRange,maxRange)=>{};var embind_init_charCodes=()=>{var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes};var embind_charCodes;var readLatin1String=ptr=>{var ret=\"\";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret};var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError;var throwBindingError=message=>{throw new BindingError(message)};var InternalError;function sharedRegisterType(rawType,registeredInstance,options={}){var name=registeredInstance.name;if(!rawType){throwBindingError(`type \"${name}\" must have a positive integer typeid pointer`)}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError(`Cannot register type '${name}' twice`)}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(cb=>cb())}}function registerType(rawType,registeredInstance,options={}){if(!(\"argPackAdvance\"in registeredInstance)){throw new TypeError(\"registerType registeredInstance requires argPackAdvance\")}return sharedRegisterType(rawType,registeredInstance,options)}var GenericWireTypeSize=8;var __embind_register_bool=(rawType,name,trueValue,falseValue)=>{name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":function(wt){return!!wt},\"toWireType\":function(destructors,o){return o?trueValue:falseValue},\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":function(pointer){return this[\"fromWireType\"](HEAPU8[pointer])},destructorFunction:null})};var emval_freelist=[];var emval_handles=[];var __emval_decref=handle=>{if(handle>9&&0===--emval_handles[handle+1]){emval_handles[handle]=undefined;emval_freelist.push(handle)}};var count_emval_handles=()=>emval_handles.length/2-5-emval_freelist.length;var init_emval=()=>{emval_handles.push(0,1,undefined,1,null,1,true,1,false,1);Module[\"count_emval_handles\"]=count_emval_handles};var Emval={toValue:handle=>{if(!handle){throwBindingError(\"Cannot use deleted val. handle = \"+handle)}return emval_handles[handle]},toHandle:value=>{switch(value){case undefined:return 2;case null:return 4;case true:return 6;case false:return 8;default:{const handle=emval_freelist.pop()||emval_handles.length;emval_handles[handle]=value;emval_handles[handle+1]=1;return handle}}}};function readPointer(pointer){return this[\"fromWireType\"](HEAPU32[pointer>>2])}var EmValType={name:\"emscripten::val\",\"fromWireType\":handle=>{var rv=Emval.toValue(handle);__emval_decref(handle);return rv},\"toWireType\":(destructors,value)=>Emval.toHandle(value),\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":readPointer,destructorFunction:null};var __embind_register_emval=rawType=>registerType(rawType,EmValType);var floatReadValueFromPointer=(name,width)=>{switch(width){case 4:return function(pointer){return this[\"fromWireType\"](HEAPF32[pointer>>2])};case 8:return function(pointer){return this[\"fromWireType\"](HEAPF64[pointer>>3])};default:throw new TypeError(`invalid float width (${width}): ${name}`)}};var __embind_register_float=(rawType,name,size)=>{name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":value=>value,\"toWireType\":(destructors,value)=>value,\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":floatReadValueFromPointer(name,size),destructorFunction:null})};var integerReadValueFromPointer=(name,width,signed)=>{switch(width){case 1:return signed?pointer=>HEAP8[pointer]:pointer=>HEAPU8[pointer];case 2:return signed?pointer=>HEAP16[pointer>>1]:pointer=>HEAPU16[pointer>>1];case 4:return signed?pointer=>HEAP32[pointer>>2]:pointer=>HEAPU32[pointer>>2];default:throw new TypeError(`invalid integer width (${width}): ${name}`)}};var __embind_register_integer=(primitiveType,name,size,minRange,maxRange)=>{name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var fromWireType=value=>value;if(minRange===0){var bitshift=32-8*size;fromWireType=value=>value<<bitshift>>>bitshift}var isUnsignedType=name.includes(\"unsigned\");var checkAssertions=(value,toTypeName)=>{};var toWireType;if(isUnsignedType){toWireType=function(destructors,value){checkAssertions(value,this.name);return value>>>0}}else{toWireType=function(destructors,value){checkAssertions(value,this.name);return value}}registerType(primitiveType,{name:name,\"fromWireType\":fromWireType,\"toWireType\":toWireType,\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":integerReadValueFromPointer(name,size,minRange!==0),destructorFunction:null})};var __embind_register_memory_view=(rawType,dataTypeIndex,name)=>{var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){var size=HEAPU32[handle>>2];var data=HEAPU32[handle+4>>2];return new TA(HEAP8.buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":decodeMemoryView,\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":decodeMemoryView},{ignoreDuplicateRegistrations:true})};var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx};var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var UTF8Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder(\"utf8\"):undefined;var UTF8ArrayToString=(heapOrArray,idx,maxBytesToRead)=>{var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str=\"\";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var UTF8ToString=(ptr,maxBytesToRead)=>ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\";var __embind_register_std_string=(rawType,name)=>{name=readLatin1String(name);var stdStringIsUTF8=name===\"std::string\";registerType(rawType,{name:name,\"fromWireType\"(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i])}str=a.join(\"\")}_free(value);return str},\"toWireType\"(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var length;var valueIsOfTypeString=typeof value==\"string\";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError(\"Cannot pass non-string to std::string\")}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value)}else{length=value.length}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError(\"String has UTF-16 code units that do not fit in 8 bits\")}HEAPU8[ptr+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i]}}}if(destructors!==null){destructors.push(_free,base)}return base},\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":readPointer,destructorFunction(ptr){_free(ptr)}})};var UTF16Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder(\"utf-16le\"):undefined;var UTF16ToString=(ptr,maxBytesToRead)=>{var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str=\"\";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str};var stringToUTF16=(str,outPtr,maxBytesToWrite)=>{maxBytesToWrite??=2147483647;if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr};var lengthBytesUTF16=str=>str.length*2;var UTF32ToString=(ptr,maxBytesToRead)=>{var i=0;var str=\"\";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str};var stringToUTF32=(str,outPtr,maxBytesToWrite)=>{maxBytesToWrite??=2147483647;if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr};var lengthBytesUTF32=str=>{var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len};var __embind_register_std_wstring=(rawType,charSize,name)=>{name=readLatin1String(name);var decodeString,encodeString,readCharAt,lengthBytesUTF;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;readCharAt=pointer=>HEAPU16[pointer>>1]}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;readCharAt=pointer=>HEAPU32[pointer>>2]}registerType(rawType,{name:name,\"fromWireType\":value=>{var length=HEAPU32[value>>2];var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||readCharAt(currentBytePtr)==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},\"toWireType\":(destructors,value)=>{if(!(typeof value==\"string\")){throwBindingError(`Cannot pass non-string to C++ string type ${name}`)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length/charSize;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":readPointer,destructorFunction(ptr){_free(ptr)}})};var __embind_register_void=(rawType,name)=>{name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,\"argPackAdvance\":0,\"fromWireType\":()=>undefined,\"toWireType\":(destructors,o)=>undefined})};var getHeapMax=()=>2147483648;var growMemory=size=>{var b=wasmMemory.buffer;var pages=(size-b.byteLength+65535)/65536;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};var _emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length;requestedSize>>>=0;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}var alignUp=(x,multiple)=>x+(multiple-x%multiple)%multiple;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false};embind_init_charCodes();BindingError=Module[\"BindingError\"]=class BindingError extends Error{constructor(message){super(message);this.name=\"BindingError\"}};InternalError=Module[\"InternalError\"]=class InternalError extends Error{constructor(message){super(message);this.name=\"InternalError\"}};init_emval();var wasmImports={f:__embind_register_bigint,i:__embind_register_bool,h:__embind_register_emval,e:__embind_register_float,b:__embind_register_integer,a:__embind_register_memory_view,d:__embind_register_std_string,c:__embind_register_std_wstring,j:__embind_register_void,g:_emscripten_resize_heap};var wasmExports=createWasm();var ___wasm_call_ctors=()=>(___wasm_call_ctors=wasmExports[\"l\"])();var _pack=Module[\"_pack\"]=(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)=>(_pack=Module[\"_pack\"]=wasmExports[\"m\"])(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10);var _malloc=Module[\"_malloc\"]=a0=>(_malloc=Module[\"_malloc\"]=wasmExports[\"o\"])(a0);var _free=Module[\"_free\"]=a0=>(_free=Module[\"_free\"]=wasmExports[\"p\"])(a0);var ___cxa_is_pointer_type=a0=>(___cxa_is_pointer_type=wasmExports[\"__cxa_is_pointer_type\"])(a0);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function run(){if(runDependencies>0){return}preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\")},1);doRun()},1)}else{doRun()}}if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}run();\r\n\r\n\r\n  return moduleArg.ready\r\n}\r\n);\r\n})();\r\nexport default loadWasm;","import { Scene } from \"../../../core/Scene\";\r\nimport { Splat } from \"../../../splats/Splat\";\r\nimport DataWorker from \"web-worker:./DataWorker.ts\";\r\nimport loadWasm from \"../../../wasm/data\";\r\n\r\nclass RenderData {\r\n    public dataChanged = false;\r\n    public transformsChanged = false;\r\n\r\n    private _splatIndices: Map<Splat, number>;\r\n    private _offsets: Map<Splat, number>;\r\n    private _data: Uint32Array;\r\n    private _width: number;\r\n    private _height: number;\r\n    private _transforms: Float32Array;\r\n    private _transformsWidth: number;\r\n    private _transformsHeight: number;\r\n    private _transformIndices: Uint32Array;\r\n    private _transformIndicesWidth: number;\r\n    private _transformIndicesHeight: number;\r\n    private _positions: Float32Array;\r\n    private _rotations: Float32Array;\r\n    private _scales: Float32Array;\r\n    private _vertexCount: number;\r\n    private _updating: Set<Splat> = new Set<Splat>();\r\n    private _dirty: Set<Splat> = new Set<Splat>();\r\n    private _worker: Worker;\r\n\r\n    getSplat: (index: number) => Splat | null;\r\n    getLocalIndex: (splat: Splat, index: number) => number;\r\n    markDirty: (splat: Splat) => void;\r\n    rebuild: () => void;\r\n    dispose: () => void;\r\n\r\n    constructor(scene: Scene) {\r\n        let vertexCount = 0;\r\n        let splatIndex = 0;\r\n        this._splatIndices = new Map<Splat, number>();\r\n        this._offsets = new Map<Splat, number>();\r\n        const lookup = new Map<number, Splat>();\r\n        for (const object of scene.objects) {\r\n            if (object instanceof Splat) {\r\n                this._splatIndices.set(object, splatIndex);\r\n                this._offsets.set(object, vertexCount);\r\n                lookup.set(vertexCount, object);\r\n                vertexCount += object.data.vertexCount;\r\n                splatIndex++;\r\n            }\r\n        }\r\n\r\n        this._vertexCount = vertexCount;\r\n        this._width = 2048;\r\n        this._height = Math.ceil((2 * this.vertexCount) / this.width);\r\n        this._data = new Uint32Array(this.width * this.height * 4);\r\n\r\n        this._transformsWidth = 5;\r\n        this._transformsHeight = lookup.size;\r\n        this._transforms = new Float32Array(this._transformsWidth * this._transformsHeight * 4);\r\n\r\n        this._transformIndicesWidth = 1024;\r\n        this._transformIndicesHeight = Math.ceil(this.vertexCount / this._transformIndicesWidth);\r\n        this._transformIndices = new Uint32Array(this._transformIndicesWidth * this._transformIndicesHeight);\r\n\r\n        this._positions = new Float32Array(this.vertexCount * 3);\r\n        this._rotations = new Float32Array(this.vertexCount * 4);\r\n        this._scales = new Float32Array(this.vertexCount * 3);\r\n\r\n        this._worker = new DataWorker();\r\n\r\n        const updateTransform = (splat: Splat) => {\r\n            const splatIndex = this._splatIndices.get(splat) as number;\r\n            this._transforms.set(splat.transform.buffer, splatIndex * 20);\r\n            this._transforms[splatIndex * 20 + 16] = splat.selected ? 1 : 0;\r\n            splat.positionChanged = false;\r\n            splat.rotationChanged = false;\r\n            splat.scaleChanged = false;\r\n            splat.selectedChanged = false;\r\n            this.transformsChanged = true;\r\n        };\r\n\r\n        this._worker.onmessage = (e) => {\r\n            if (e.data.response) {\r\n                const response = e.data.response;\r\n                const splat = lookup.get(response.offset) as Splat;\r\n                updateTransform(splat);\r\n\r\n                const splatIndex = this._splatIndices.get(splat) as number;\r\n                for (let i = 0; i < splat.data.vertexCount; i++) {\r\n                    this._transformIndices[response.offset + i] = splatIndex;\r\n                }\r\n\r\n                this._data.set(response.data, response.offset * 8);\r\n                splat.data.reattach(\r\n                    response.positions,\r\n                    response.rotations,\r\n                    response.scales,\r\n                    response.colors,\r\n                    response.selection,\r\n                );\r\n\r\n                this._positions.set(response.worldPositions, response.offset * 3);\r\n                this._rotations.set(response.worldRotations, response.offset * 4);\r\n                this._scales.set(response.worldScales, response.offset * 3);\r\n\r\n                this._updating.delete(splat);\r\n\r\n                splat.selectedChanged = false;\r\n\r\n                this.dataChanged = true;\r\n            }\r\n        };\r\n\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let wasmModule: any;\r\n\r\n        async function initWasm() {\r\n            wasmModule = await loadWasm();\r\n        }\r\n\r\n        initWasm();\r\n\r\n        async function waitForWasm() {\r\n            while (!wasmModule) {\r\n                await new Promise((resolve) => setTimeout(resolve, 0));\r\n            }\r\n        }\r\n\r\n        const buildImmediate = (splat: Splat) => {\r\n            if (!wasmModule) {\r\n                waitForWasm().then(() => {\r\n                    buildImmediate(splat);\r\n                });\r\n                return;\r\n            }\r\n\r\n            updateTransform(splat);\r\n\r\n            const positionsPtr = wasmModule._malloc(3 * splat.data.vertexCount * 4);\r\n            const rotationsPtr = wasmModule._malloc(4 * splat.data.vertexCount * 4);\r\n            const scalesPtr = wasmModule._malloc(3 * splat.data.vertexCount * 4);\r\n            const colorsPtr = wasmModule._malloc(4 * splat.data.vertexCount);\r\n            const selectionPtr = wasmModule._malloc(splat.data.vertexCount);\r\n            const dataPtr = wasmModule._malloc(8 * splat.data.vertexCount * 4);\r\n            const worldPositionsPtr = wasmModule._malloc(3 * splat.data.vertexCount * 4);\r\n            const worldRotationsPtr = wasmModule._malloc(4 * splat.data.vertexCount * 4);\r\n            const worldScalesPtr = wasmModule._malloc(3 * splat.data.vertexCount * 4);\r\n\r\n            wasmModule.HEAPF32.set(splat.data.positions, positionsPtr / 4);\r\n            wasmModule.HEAPF32.set(splat.data.rotations, rotationsPtr / 4);\r\n            wasmModule.HEAPF32.set(splat.data.scales, scalesPtr / 4);\r\n            wasmModule.HEAPU8.set(splat.data.colors, colorsPtr);\r\n            wasmModule.HEAPU8.set(splat.data.selection, selectionPtr);\r\n\r\n            wasmModule._pack(\r\n                splat.selected,\r\n                splat.data.vertexCount,\r\n                positionsPtr,\r\n                rotationsPtr,\r\n                scalesPtr,\r\n                colorsPtr,\r\n                selectionPtr,\r\n                dataPtr,\r\n                worldPositionsPtr,\r\n                worldRotationsPtr,\r\n                worldScalesPtr,\r\n            );\r\n\r\n            const outData = new Uint32Array(wasmModule.HEAPU32.buffer, dataPtr, splat.data.vertexCount * 8);\r\n            const worldPositions = new Float32Array(\r\n                wasmModule.HEAPF32.buffer,\r\n                worldPositionsPtr,\r\n                splat.data.vertexCount * 3,\r\n            );\r\n            const worldRotations = new Float32Array(\r\n                wasmModule.HEAPF32.buffer,\r\n                worldRotationsPtr,\r\n                splat.data.vertexCount * 4,\r\n            );\r\n            const worldScales = new Float32Array(wasmModule.HEAPF32.buffer, worldScalesPtr, splat.data.vertexCount * 3);\r\n\r\n            const splatIndex = this._splatIndices.get(splat) as number;\r\n            const offset = this._offsets.get(splat) as number;\r\n            for (let i = 0; i < splat.data.vertexCount; i++) {\r\n                this._transformIndices[offset + i] = splatIndex;\r\n            }\r\n            this._data.set(outData, offset * 8);\r\n            this._positions.set(worldPositions, offset * 3);\r\n            this._rotations.set(worldRotations, offset * 4);\r\n            this._scales.set(worldScales, offset * 3);\r\n\r\n            wasmModule._free(positionsPtr);\r\n            wasmModule._free(rotationsPtr);\r\n            wasmModule._free(scalesPtr);\r\n            wasmModule._free(colorsPtr);\r\n            wasmModule._free(selectionPtr);\r\n            wasmModule._free(dataPtr);\r\n            wasmModule._free(worldPositionsPtr);\r\n            wasmModule._free(worldRotationsPtr);\r\n            wasmModule._free(worldScalesPtr);\r\n\r\n            this.dataChanged = true;\r\n        };\r\n\r\n        const build = (splat: Splat) => {\r\n            if (splat.positionChanged || splat.rotationChanged || splat.scaleChanged || splat.selectedChanged) {\r\n                updateTransform(splat);\r\n            }\r\n\r\n            if (!splat.data.changed || splat.data.detached) return;\r\n\r\n            const serializedSplat = {\r\n                position: new Float32Array(splat.position.flat()),\r\n                rotation: new Float32Array(splat.rotation.flat()),\r\n                scale: new Float32Array(splat.scale.flat()),\r\n                selected: splat.selected,\r\n                vertexCount: splat.data.vertexCount,\r\n                positions: splat.data.positions,\r\n                rotations: splat.data.rotations,\r\n                scales: splat.data.scales,\r\n                colors: splat.data.colors,\r\n                selection: splat.data.selection,\r\n                offset: this._offsets.get(splat) as number,\r\n            };\r\n\r\n            this._worker.postMessage(\r\n                {\r\n                    splat: serializedSplat,\r\n                },\r\n                [\r\n                    serializedSplat.position.buffer,\r\n                    serializedSplat.rotation.buffer,\r\n                    serializedSplat.scale.buffer,\r\n                    serializedSplat.positions.buffer,\r\n                    serializedSplat.rotations.buffer,\r\n                    serializedSplat.scales.buffer,\r\n                    serializedSplat.colors.buffer,\r\n                    serializedSplat.selection.buffer,\r\n                ],\r\n            );\r\n\r\n            this._updating.add(splat);\r\n\r\n            splat.data.detached = true;\r\n        };\r\n\r\n        this.getSplat = (index: number) => {\r\n            let splat = null;\r\n            for (const [key, value] of this._offsets) {\r\n                if (index >= value) {\r\n                    splat = key;\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            return splat;\r\n        };\r\n\r\n        this.getLocalIndex = (splat: Splat, index: number) => {\r\n            const offset = this._offsets.get(splat) as number;\r\n            return index - offset;\r\n        };\r\n\r\n        this.markDirty = (splat: Splat) => {\r\n            this._dirty.add(splat);\r\n        };\r\n\r\n        this.rebuild = () => {\r\n            for (const splat of this._dirty) {\r\n                build(splat);\r\n            }\r\n\r\n            this._dirty.clear();\r\n        };\r\n\r\n        this.dispose = () => {\r\n            this._worker.terminate();\r\n        };\r\n\r\n        for (const splat of this._splatIndices.keys()) {\r\n            buildImmediate(splat);\r\n        }\r\n    }\r\n\r\n    get offsets() {\r\n        return this._offsets;\r\n    }\r\n\r\n    get data() {\r\n        return this._data;\r\n    }\r\n\r\n    get width() {\r\n        return this._width;\r\n    }\r\n\r\n    get height() {\r\n        return this._height;\r\n    }\r\n\r\n    get transforms() {\r\n        return this._transforms;\r\n    }\r\n\r\n    get transformsWidth() {\r\n        return this._transformsWidth;\r\n    }\r\n\r\n    get transformsHeight() {\r\n        return this._transformsHeight;\r\n    }\r\n\r\n    get transformIndices() {\r\n        return this._transformIndices;\r\n    }\r\n\r\n    get transformIndicesWidth() {\r\n        return this._transformIndicesWidth;\r\n    }\r\n\r\n    get transformIndicesHeight() {\r\n        return this._transformIndicesHeight;\r\n    }\r\n\r\n    get positions() {\r\n        return this._positions;\r\n    }\r\n\r\n    get rotations() {\r\n        return this._rotations;\r\n    }\r\n\r\n    get scales() {\r\n        return this._scales;\r\n    }\r\n\r\n    get vertexCount() {\r\n        return this._vertexCount;\r\n    }\r\n\r\n    get needsRebuild() {\r\n        return this._dirty.size > 0;\r\n    }\r\n\r\n    get updating() {\r\n        return this._updating.size > 0;\r\n    }\r\n}\r\n\r\nexport { RenderData };\r\n","class Color32 {\r\n    public readonly r: number;\r\n    public readonly g: number;\r\n    public readonly b: number;\r\n    public readonly a: number;\r\n\r\n    constructor(r: number = 0, g: number = 0, b: number = 0, a: number = 255) {\r\n        this.r = r;\r\n        this.g = g;\r\n        this.b = b;\r\n        this.a = a;\r\n    }\r\n\r\n    flat(): number[] {\r\n        return [this.r, this.g, this.b, this.a];\r\n    }\r\n\r\n    flatNorm(): number[] {\r\n        return [this.r / 255, this.g / 255, this.b / 255, this.a / 255];\r\n    }\r\n\r\n    toHexString(): string {\r\n        return (\r\n            \"#\" +\r\n            this.flat()\r\n                .map((x) => x.toString(16).padStart(2, \"0\"))\r\n                .join(\"\")\r\n        );\r\n    }\r\n\r\n    toString(): string {\r\n        return `[${this.flat().join(\", \")}]`;\r\n    }\r\n}\r\n\r\nexport { Color32 };\r\n","import SortWorker from \"web-worker:../utils/SortWorker.ts\";\r\n\r\nimport { ShaderProgram } from \"./ShaderProgram\";\r\nimport { ShaderPass } from \"../passes/ShaderPass\";\r\nimport { RenderData } from \"../utils/RenderData\";\r\nimport { Color32 } from \"../../../math/Color32\";\r\nimport { ObjectAddedEvent, ObjectChangedEvent, ObjectRemovedEvent } from \"../../../events/Events\";\r\nimport { Splat } from \"../../../splats/Splat\";\r\nimport { WebGLRenderer } from \"../../WebGLRenderer\";\r\n\r\nconst vertexShaderSource = /* glsl */ `#version 300 es\r\nprecision highp float;\r\nprecision highp int;\r\n\r\nuniform highp usampler2D u_texture;\r\nuniform highp sampler2D u_transforms;\r\nuniform highp usampler2D u_transformIndices;\r\nuniform mat4 projection, view;\r\nuniform vec2 focal;\r\nuniform vec2 viewport;\r\n\r\nuniform bool useDepthFade;\r\nuniform float depthFade;\r\n\r\nin vec2 position;\r\nin int index;\r\n\r\nout vec4 vColor;\r\nout vec2 vPosition;\r\nout float vSize;\r\nout float vSelected;\r\n\r\nvoid main () {\r\n    uvec4 cen = texelFetch(u_texture, ivec2((uint(index) & 0x3ffu) << 1, uint(index) >> 10), 0);\r\n    float selected = float((cen.w >> 24) & 0xffu);\r\n\r\n    uint transformIndex = texelFetch(u_transformIndices, ivec2(uint(index) & 0x3ffu, uint(index) >> 10), 0).x;\r\n    mat4 transform = mat4(\r\n        texelFetch(u_transforms, ivec2(0, transformIndex), 0),\r\n        texelFetch(u_transforms, ivec2(1, transformIndex), 0),\r\n        texelFetch(u_transforms, ivec2(2, transformIndex), 0),\r\n        texelFetch(u_transforms, ivec2(3, transformIndex), 0)\r\n    );\r\n\r\n    if (selected < 0.5) {\r\n        selected = texelFetch(u_transforms, ivec2(4, transformIndex), 0).x;\r\n    }\r\n\r\n    mat4 viewTransform = view * transform;\r\n\r\n    vec4 cam = viewTransform * vec4(uintBitsToFloat(cen.xyz), 1);\r\n    vec4 pos2d = projection * cam;\r\n\r\n    float clip = 1.2 * pos2d.w;\r\n    if (pos2d.z < -pos2d.w || pos2d.z > pos2d.w || pos2d.x < -clip || pos2d.x > clip || pos2d.y < -clip || pos2d.y > clip) {\r\n        gl_Position = vec4(0.0, 0.0, 2.0, 1.0);\r\n        return;\r\n    }\r\n\r\n    uvec4 cov = texelFetch(u_texture, ivec2(((uint(index) & 0x3ffu) << 1) | 1u, uint(index) >> 10), 0);\r\n    vec2 u1 = unpackHalf2x16(cov.x), u2 = unpackHalf2x16(cov.y), u3 = unpackHalf2x16(cov.z);\r\n    mat3 Vrk = mat3(u1.x, u1.y, u2.x, u1.y, u2.y, u3.x, u2.x, u3.x, u3.y);\r\n\r\n    mat3 J = mat3(\r\n        focal.x / cam.z, 0., -(focal.x * cam.x) / (cam.z * cam.z), \r\n        0., -focal.y / cam.z, (focal.y * cam.y) / (cam.z * cam.z), \r\n        0., 0., 0.\r\n    );\r\n\r\n    mat3 T = transpose(mat3(viewTransform)) * J;\r\n    mat3 cov2d = transpose(T) * Vrk * T;\r\n\r\n    float mid = (cov2d[0][0] + cov2d[1][1]) / 2.0;\r\n    float radius = length(vec2((cov2d[0][0] - cov2d[1][1]) / 2.0, cov2d[0][1]));\r\n    float lambda1 = mid + radius, lambda2 = mid - radius;\r\n\r\n    if (lambda2 < 0.0) return;\r\n    vec2 diagonalVector = normalize(vec2(cov2d[0][1], lambda1 - cov2d[0][0]));\r\n    vec2 majorAxis = min(sqrt(2.0 * lambda1), 1024.0) * diagonalVector;\r\n    vec2 minorAxis = min(sqrt(2.0 * lambda2), 1024.0) * vec2(diagonalVector.y, -diagonalVector.x);\r\n\r\n    vColor = vec4((cov.w) & 0xffu, (cov.w >> 8) & 0xffu, (cov.w >> 16) & 0xffu, (cov.w >> 24) & 0xffu) / 255.0;\r\n    vPosition = position;\r\n    vSize = length(majorAxis);\r\n    vSelected = selected;\r\n\r\n    float scalingFactor = 1.0;\r\n\r\n    if (useDepthFade) {\r\n        float depthNorm = (pos2d.z / pos2d.w + 1.0) / 2.0;\r\n        float near = 0.1; float far = 100.0;\r\n        float normalizedDepth = (2.0 * near) / (far + near - depthNorm * (far - near));\r\n        float start = max(normalizedDepth - 0.1, 0.0);\r\n        float end = min(normalizedDepth + 0.1, 1.0);\r\n        scalingFactor = clamp((depthFade - start) / (end - start), 0.0, 1.0);\r\n    }\r\n\r\n    vec2 vCenter = vec2(pos2d) / pos2d.w;\r\n    gl_Position = vec4(\r\n        vCenter \r\n        + position.x * majorAxis * scalingFactor / viewport\r\n        + position.y * minorAxis * scalingFactor / viewport, 0.0, 1.0);\r\n}\r\n`;\r\n\r\nconst fragmentShaderSource = /* glsl */ `#version 300 es\r\nprecision highp float;\r\n\r\nuniform float outlineThickness;\r\nuniform vec4 outlineColor;\r\n\r\nin vec4 vColor;\r\nin vec2 vPosition;\r\nin float vSize;\r\nin float vSelected;\r\n\r\nout vec4 fragColor;\r\n\r\nvoid main () {\r\n    float A = -dot(vPosition, vPosition);\r\n\r\n    if (A < -4.0) discard;\r\n\r\n    if (vSelected < 0.5) {\r\n        float B = exp(A) * vColor.a;\r\n        fragColor = vec4(B * vColor.rgb, B);\r\n        return;\r\n    }\r\n\r\n    float outlineThreshold = -4.0 + (outlineThickness / vSize);\r\n\r\n    if (A < outlineThreshold) {\r\n        fragColor = outlineColor;\r\n    } \r\n    else {\r\n        float B = exp(A) * vColor.a;\r\n        fragColor = vec4(B * vColor.rgb, B);\r\n    }\r\n}\r\n`;\r\n\r\nclass RenderProgram extends ShaderProgram {\r\n    private _outlineThickness: number = 10.0;\r\n    private _outlineColor: Color32 = new Color32(255, 165, 0, 255);\r\n    private _renderData: RenderData | null = null;\r\n    private _depthIndex: Uint32Array = new Uint32Array();\r\n    private _chunks: Uint8Array | null = null;\r\n    private _splatTexture: WebGLTexture | null = null;\r\n\r\n    protected _initialize: () => void;\r\n    protected _resize: () => void;\r\n    protected _render: () => void;\r\n    protected _dispose: () => void;\r\n\r\n    private _setOutlineThickness: (value: number) => void;\r\n    private _setOutlineColor: (value: Color32) => void;\r\n\r\n    constructor(renderer: WebGLRenderer, passes: ShaderPass[]) {\r\n        super(renderer, passes);\r\n\r\n        const canvas = renderer.canvas;\r\n        const gl = renderer.gl;\r\n\r\n        let worker: Worker;\r\n\r\n        let u_projection: WebGLUniformLocation;\r\n        let u_viewport: WebGLUniformLocation;\r\n        let u_focal: WebGLUniformLocation;\r\n        let u_view: WebGLUniformLocation;\r\n        let u_texture: WebGLUniformLocation;\r\n        let u_transforms: WebGLUniformLocation;\r\n        let u_transformIndices: WebGLUniformLocation;\r\n\r\n        let u_outlineThickness: WebGLUniformLocation;\r\n        let u_outlineColor: WebGLUniformLocation;\r\n\r\n        let positionAttribute: number;\r\n        let indexAttribute: number;\r\n\r\n        let transformsTexture: WebGLTexture;\r\n        let transformIndicesTexture: WebGLTexture;\r\n\r\n        let vertexBuffer: WebGLBuffer;\r\n        let indexBuffer: WebGLBuffer;\r\n\r\n        this._resize = () => {\r\n            if (!this._camera) return;\r\n\r\n            this._camera.data.setSize(canvas.width, canvas.height);\r\n            this._camera.update();\r\n\r\n            u_projection = gl.getUniformLocation(this.program, \"projection\") as WebGLUniformLocation;\r\n            gl.uniformMatrix4fv(u_projection, false, this._camera.data.projectionMatrix.buffer);\r\n\r\n            u_viewport = gl.getUniformLocation(this.program, \"viewport\") as WebGLUniformLocation;\r\n            gl.uniform2fv(u_viewport, new Float32Array([canvas.width, canvas.height]));\r\n        };\r\n\r\n        const createWorker = () => {\r\n            worker = new SortWorker();\r\n            worker.onmessage = (e) => {\r\n                if (e.data.depthIndex) {\r\n                    const { depthIndex, chunks } = e.data;\r\n                    this._depthIndex = depthIndex;\r\n                    this._chunks = chunks;\r\n                    gl.bindBuffer(gl.ARRAY_BUFFER, indexBuffer);\r\n                    gl.bufferData(gl.ARRAY_BUFFER, depthIndex, gl.STATIC_DRAW);\r\n                }\r\n            };\r\n        };\r\n\r\n        this._initialize = () => {\r\n            if (!this._scene || !this._camera) {\r\n                console.error(\"Cannot render without scene and camera\");\r\n                return;\r\n            }\r\n\r\n            this._resize();\r\n\r\n            this._scene.addEventListener(\"objectAdded\", handleObjectAdded);\r\n            this._scene.addEventListener(\"objectRemoved\", handleObjectRemoved);\r\n            for (const object of this._scene.objects) {\r\n                if (object instanceof Splat) {\r\n                    object.addEventListener(\"objectChanged\", handleObjectChanged);\r\n                }\r\n            }\r\n\r\n            this._renderData = new RenderData(this._scene);\r\n\r\n            u_focal = gl.getUniformLocation(this.program, \"focal\") as WebGLUniformLocation;\r\n            gl.uniform2fv(u_focal, new Float32Array([this._camera.data.fx, this._camera.data.fy]));\r\n\r\n            u_view = gl.getUniformLocation(this.program, \"view\") as WebGLUniformLocation;\r\n            gl.uniformMatrix4fv(u_view, false, this._camera.data.viewMatrix.buffer);\r\n\r\n            u_outlineThickness = gl.getUniformLocation(this.program, \"outlineThickness\") as WebGLUniformLocation;\r\n            gl.uniform1f(u_outlineThickness, this.outlineThickness);\r\n\r\n            u_outlineColor = gl.getUniformLocation(this.program, \"outlineColor\") as WebGLUniformLocation;\r\n            gl.uniform4fv(u_outlineColor, new Float32Array(this.outlineColor.flatNorm()));\r\n\r\n            this._splatTexture = gl.createTexture() as WebGLTexture;\r\n            u_texture = gl.getUniformLocation(this.program, \"u_texture\") as WebGLUniformLocation;\r\n            gl.uniform1i(u_texture, 0);\r\n\r\n            transformsTexture = gl.createTexture() as WebGLTexture;\r\n            u_transforms = gl.getUniformLocation(this.program, \"u_transforms\") as WebGLUniformLocation;\r\n            gl.uniform1i(u_transforms, 1);\r\n\r\n            transformIndicesTexture = gl.createTexture() as WebGLTexture;\r\n            u_transformIndices = gl.getUniformLocation(this.program, \"u_transformIndices\") as WebGLUniformLocation;\r\n            gl.uniform1i(u_transformIndices, 2);\r\n\r\n            vertexBuffer = gl.createBuffer() as WebGLBuffer;\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-2, -2, 2, -2, 2, 2, -2, 2]), gl.STATIC_DRAW);\r\n\r\n            positionAttribute = gl.getAttribLocation(this.program, \"position\");\r\n            gl.enableVertexAttribArray(positionAttribute);\r\n            gl.vertexAttribPointer(positionAttribute, 2, gl.FLOAT, false, 0, 0);\r\n\r\n            indexBuffer = gl.createBuffer() as WebGLBuffer;\r\n            indexAttribute = gl.getAttribLocation(this.program, \"index\");\r\n            gl.enableVertexAttribArray(indexAttribute);\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, indexBuffer);\r\n\r\n            createWorker();\r\n        };\r\n\r\n        const handleObjectAdded = (event: Event) => {\r\n            const e = event as ObjectAddedEvent;\r\n\r\n            if (e.object instanceof Splat) {\r\n                e.object.addEventListener(\"objectChanged\", handleObjectChanged);\r\n            }\r\n\r\n            this.dispose();\r\n        };\r\n\r\n        const handleObjectRemoved = (event: Event) => {\r\n            const e = event as ObjectRemovedEvent;\r\n\r\n            if (e.object instanceof Splat) {\r\n                e.object.removeEventListener(\"objectChanged\", handleObjectChanged);\r\n            }\r\n\r\n            this.dispose();\r\n        };\r\n\r\n        const handleObjectChanged = (event: Event) => {\r\n            const e = event as ObjectChangedEvent;\r\n\r\n            if (e.object instanceof Splat && this._renderData) {\r\n                this._renderData.markDirty(e.object);\r\n            }\r\n        };\r\n\r\n        this._render = () => {\r\n            if (!this._scene || !this._camera || !this.renderData) {\r\n                console.error(\"Cannot render without scene and camera\");\r\n                return;\r\n            }\r\n\r\n            if (this.renderData.needsRebuild) {\r\n                this.renderData.rebuild();\r\n            }\r\n\r\n            if (this.renderData.dataChanged || this.renderData.transformsChanged) {\r\n                if (this.renderData.dataChanged) {\r\n                    gl.activeTexture(gl.TEXTURE0);\r\n                    gl.bindTexture(gl.TEXTURE_2D, this.splatTexture);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n                    gl.texImage2D(\r\n                        gl.TEXTURE_2D,\r\n                        0,\r\n                        gl.RGBA32UI,\r\n                        this.renderData.width,\r\n                        this.renderData.height,\r\n                        0,\r\n                        gl.RGBA_INTEGER,\r\n                        gl.UNSIGNED_INT,\r\n                        this.renderData.data,\r\n                    );\r\n                }\r\n\r\n                if (this.renderData.transformsChanged) {\r\n                    gl.activeTexture(gl.TEXTURE1);\r\n                    gl.bindTexture(gl.TEXTURE_2D, transformsTexture);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n                    gl.texImage2D(\r\n                        gl.TEXTURE_2D,\r\n                        0,\r\n                        gl.RGBA32F,\r\n                        this.renderData.transformsWidth,\r\n                        this.renderData.transformsHeight,\r\n                        0,\r\n                        gl.RGBA,\r\n                        gl.FLOAT,\r\n                        this.renderData.transforms,\r\n                    );\r\n\r\n                    gl.activeTexture(gl.TEXTURE2);\r\n                    gl.bindTexture(gl.TEXTURE_2D, transformIndicesTexture);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n                    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n                    gl.texImage2D(\r\n                        gl.TEXTURE_2D,\r\n                        0,\r\n                        gl.R32UI,\r\n                        this.renderData.transformIndicesWidth,\r\n                        this.renderData.transformIndicesHeight,\r\n                        0,\r\n                        gl.RED_INTEGER,\r\n                        gl.UNSIGNED_INT,\r\n                        this.renderData.transformIndices,\r\n                    );\r\n                }\r\n\r\n                const detachedPositions = new Float32Array(this.renderData.positions.slice().buffer);\r\n                const detachedTransforms = new Float32Array(this.renderData.transforms.slice().buffer);\r\n                const detachedTransformIndices = new Uint32Array(this.renderData.transformIndices.slice().buffer);\r\n                worker.postMessage(\r\n                    {\r\n                        sortData: {\r\n                            positions: detachedPositions,\r\n                            transforms: detachedTransforms,\r\n                            transformIndices: detachedTransformIndices,\r\n                            vertexCount: this.renderData.vertexCount,\r\n                        },\r\n                    },\r\n                    [detachedPositions.buffer, detachedTransforms.buffer, detachedTransformIndices.buffer],\r\n                );\r\n\r\n                this.renderData.dataChanged = false;\r\n                this.renderData.transformsChanged = false;\r\n            }\r\n\r\n            this._camera.update();\r\n            worker.postMessage({ viewProj: this._camera.data.viewProj.buffer });\r\n\r\n            gl.viewport(0, 0, canvas.width, canvas.height);\r\n            gl.clearColor(0, 0, 0, 0);\r\n            gl.clear(gl.COLOR_BUFFER_BIT);\r\n\r\n            gl.disable(gl.DEPTH_TEST);\r\n            gl.enable(gl.BLEND);\r\n            gl.blendFuncSeparate(gl.ONE_MINUS_DST_ALPHA, gl.ONE, gl.ONE_MINUS_DST_ALPHA, gl.ONE);\r\n            gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\r\n\r\n            gl.uniformMatrix4fv(u_projection, false, this._camera.data.projectionMatrix.buffer);\r\n            gl.uniformMatrix4fv(u_view, false, this._camera.data.viewMatrix.buffer);\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n            gl.vertexAttribPointer(positionAttribute, 2, gl.FLOAT, false, 0, 0);\r\n\r\n            gl.bindBuffer(gl.ARRAY_BUFFER, indexBuffer);\r\n            gl.bufferData(gl.ARRAY_BUFFER, this.depthIndex, gl.STATIC_DRAW);\r\n            gl.vertexAttribIPointer(indexAttribute, 1, gl.INT, 0, 0);\r\n            gl.vertexAttribDivisor(indexAttribute, 1);\r\n\r\n            gl.drawArraysInstanced(gl.TRIANGLE_FAN, 0, 4, this.renderData.vertexCount);\r\n        };\r\n\r\n        this._dispose = () => {\r\n            if (!this._scene || !this._camera || !this.renderData) {\r\n                console.error(\"Cannot dispose without scene and camera\");\r\n                return;\r\n            }\r\n\r\n            this._scene.removeEventListener(\"objectAdded\", handleObjectAdded);\r\n            this._scene.removeEventListener(\"objectRemoved\", handleObjectRemoved);\r\n            for (const object of this._scene.objects) {\r\n                if (object instanceof Splat) {\r\n                    object.removeEventListener(\"objectChanged\", handleObjectChanged);\r\n                }\r\n            }\r\n\r\n            worker.terminate();\r\n            this.renderData.dispose();\r\n\r\n            gl.deleteTexture(this.splatTexture);\r\n            gl.deleteTexture(transformsTexture);\r\n            gl.deleteTexture(transformIndicesTexture);\r\n\r\n            gl.deleteBuffer(indexBuffer);\r\n            gl.deleteBuffer(vertexBuffer);\r\n        };\r\n\r\n        this._setOutlineThickness = (value: number) => {\r\n            this._outlineThickness = value;\r\n            if (this._initialized) {\r\n                gl.uniform1f(u_outlineThickness, value);\r\n            }\r\n        };\r\n\r\n        this._setOutlineColor = (value: Color32) => {\r\n            this._outlineColor = value;\r\n            if (this._initialized) {\r\n                gl.uniform4fv(u_outlineColor, new Float32Array(value.flatNorm()));\r\n            }\r\n        };\r\n    }\r\n\r\n    get renderData() {\r\n        return this._renderData;\r\n    }\r\n\r\n    get depthIndex() {\r\n        return this._depthIndex;\r\n    }\r\n\r\n    get chunks() {\r\n        return this._chunks;\r\n    }\r\n\r\n    get splatTexture() {\r\n        return this._splatTexture;\r\n    }\r\n\r\n    get outlineThickness() {\r\n        return this._outlineThickness;\r\n    }\r\n\r\n    set outlineThickness(value: number) {\r\n        this._setOutlineThickness(value);\r\n    }\r\n\r\n    get outlineColor() {\r\n        return this._outlineColor;\r\n    }\r\n\r\n    set outlineColor(value: Color32) {\r\n        this._setOutlineColor(value);\r\n    }\r\n\r\n    protected _getVertexSource() {\r\n        return vertexShaderSource;\r\n    }\r\n\r\n    protected _getFragmentSource() {\r\n        return fragmentShaderSource;\r\n    }\r\n}\r\n\r\nexport { RenderProgram };\r\n","import { RenderProgram } from \"../programs/RenderProgram\";\r\nimport { ShaderProgram } from \"../programs/ShaderProgram\";\r\nimport { ShaderPass } from \"./ShaderPass\";\r\n\r\nclass FadeInPass implements ShaderPass {\r\n    initialize: (program: ShaderProgram) => void;\r\n    render: () => void;\r\n\r\n    constructor(speed: number = 1.0) {\r\n        let value = 0.0;\r\n        let active = false;\r\n\r\n        let renderProgram: RenderProgram;\r\n        let gl: WebGL2RenderingContext;\r\n        let u_useDepthFade: WebGLUniformLocation;\r\n        let u_depthFade: WebGLUniformLocation;\r\n\r\n        this.initialize = (program: ShaderProgram) => {\r\n            if (!(program instanceof RenderProgram)) {\r\n                throw new Error(\"FadeInPass requires a RenderProgram\");\r\n            }\r\n\r\n            value = program.started ? 1.0 : 0.0;\r\n            active = true;\r\n            renderProgram = program;\r\n            gl = program.renderer.gl;\r\n\r\n            u_useDepthFade = gl.getUniformLocation(renderProgram.program, \"useDepthFade\") as WebGLUniformLocation;\r\n            gl.uniform1i(u_useDepthFade, 1);\r\n\r\n            u_depthFade = gl.getUniformLocation(renderProgram.program, \"depthFade\") as WebGLUniformLocation;\r\n            gl.uniform1f(u_depthFade, value);\r\n        };\r\n\r\n        this.render = () => {\r\n            if (!active || renderProgram.renderData?.updating) return;\r\n            gl.useProgram(renderProgram.program);\r\n            value = Math.min(value + speed * 0.01, 1.0);\r\n            if (value >= 1.0) {\r\n                active = false;\r\n                gl.uniform1i(u_useDepthFade, 0);\r\n            }\r\n            gl.uniform1f(u_depthFade, value);\r\n        };\r\n    }\r\n\r\n    dispose() {}\r\n}\r\n\r\nexport { FadeInPass };\r\n","import type { Scene } from \"../core/Scene\";\r\nimport { FadeInPass } from \"./webgl/passes/FadeInPass\";\r\nimport { Camera } from \"../cameras/Camera\";\r\nimport { Color32 } from \"../math/Color32\";\r\nimport { ShaderProgram } from \"./webgl/programs/ShaderProgram\";\r\nimport { RenderProgram } from \"./webgl/programs/RenderProgram\";\r\nimport { ShaderPass } from \"./webgl/passes/ShaderPass\";\r\n\r\nexport class WebGLRenderer {\r\n    private _canvas: HTMLCanvasElement;\r\n    private _gl: WebGL2RenderingContext;\r\n    private _backgroundColor: Color32 = new Color32();\r\n    private _renderProgram: RenderProgram;\r\n\r\n    addProgram: (program: ShaderProgram) => void;\r\n    removeProgram: (program: ShaderProgram) => void;\r\n    resize: () => void;\r\n    setSize: (width: number, height: number) => void;\r\n    render: (scene: Scene, camera: Camera) => void;\r\n    dispose: () => void;\r\n\r\n    constructor(optionalCanvas: HTMLCanvasElement | null = null, optionalRenderPasses: ShaderPass[] | null = null, transparent: boolean = false) {\r\n        const canvas: HTMLCanvasElement = optionalCanvas || document.createElement(\"canvas\");\r\n        if (!optionalCanvas) {\r\n            canvas.style.display = \"block\";\r\n            canvas.style.boxSizing = \"border-box\";\r\n            canvas.style.width = \"100%\";\r\n            canvas.style.height = \"100%\";\r\n            canvas.style.margin = \"0\";\r\n            canvas.style.padding = \"0\";\r\n            document.body.appendChild(canvas);\r\n        }\r\n        canvas.style.background = this._backgroundColor.toHexString();\r\n        this._canvas = canvas;\r\n\r\n        this._gl = canvas.getContext(\"webgl2\", { antialias: false, alpha: transparent }) as WebGL2RenderingContext;\r\n\r\n        const renderPasses = optionalRenderPasses || [];\r\n        if (!optionalRenderPasses) {\r\n            renderPasses.push(new FadeInPass());\r\n        }\r\n\r\n        this._renderProgram = new RenderProgram(this, renderPasses);\r\n        const programs = [this._renderProgram] as ShaderProgram[];\r\n\r\n        this.resize = () => {\r\n            const width = canvas.clientWidth;\r\n            const height = canvas.clientHeight;\r\n            if (canvas.width !== width || canvas.height !== height) {\r\n                this.setSize(width, height);\r\n            }\r\n        };\r\n\r\n        this.setSize = (width: number, height: number) => {\r\n            canvas.width = width;\r\n            canvas.height = height;\r\n            this._gl.viewport(0, 0, canvas.width, canvas.height);\r\n            for (const program of programs) {\r\n                program.resize();\r\n            }\r\n        };\r\n\r\n        this.render = (scene: Scene, camera: Camera) => {\r\n            for (const program of programs) {\r\n                program.render(scene, camera);\r\n            }\r\n        };\r\n\r\n        this.dispose = () => {\r\n            for (const program of programs) {\r\n                program.dispose();\r\n            }\r\n        };\r\n\r\n        this.addProgram = (program: ShaderProgram) => {\r\n            programs.push(program);\r\n        };\r\n\r\n        this.removeProgram = (program: ShaderProgram) => {\r\n            const index = programs.indexOf(program);\r\n            if (index < 0) {\r\n                throw new Error(\"Program not found\");\r\n            }\r\n            programs.splice(index, 1);\r\n        };\r\n\r\n        this.resize();\r\n    }\r\n\r\n    get canvas() {\r\n        return this._canvas;\r\n    }\r\n\r\n    get gl() {\r\n        return this._gl;\r\n    }\r\n\r\n    get renderProgram() {\r\n        return this._renderProgram;\r\n    }\r\n\r\n    get backgroundColor() {\r\n        return this._backgroundColor;\r\n    }\r\n\r\n    set backgroundColor(value: Color32) {\r\n        this._backgroundColor = value;\r\n        this._canvas.style.background = value.toHexString();\r\n    }\r\n}\r\n","import { Camera } from \"../cameras/Camera\";\r\nimport { Matrix3 } from \"../math/Matrix3\";\r\nimport { Quaternion } from \"../math/Quaternion\";\r\nimport { Vector3 } from \"../math/Vector3\";\r\n\r\nclass OrbitControls {\r\n    minAngle: number = -90;\r\n    maxAngle: number = 90;\r\n    minZoom: number = 0.1;\r\n    maxZoom: number = 30;\r\n    orbitSpeed: number = 1;\r\n    panSpeed: number = 1;\r\n    zoomSpeed: number = 1;\r\n    dampening: number = 0.12;\r\n    setCameraTarget: (newTarget: Vector3) => void = () => {};\r\n    update: () => void;\r\n    dispose: () => void;\r\n    autoRotate: boolean;\r\n    autoRotateSpeed: number;\r\n    enablePan: boolean = true;\r\n    enableZoom: boolean = true;\r\n    enableRotate: boolean = true;\r\n\r\n    constructor(\r\n        camera: Camera,\r\n        canvas: HTMLElement,\r\n        alpha: number = 0.5,\r\n        beta: number = 0.5,\r\n        radius: number = 5,\r\n        enableKeyboardControls: boolean = true,\r\n        inputTarget: Vector3 = new Vector3(),\r\n    ) {\r\n        let target = inputTarget.clone();\r\n\r\n        let desiredTarget = target.clone();\r\n        let desiredAlpha = alpha;\r\n        let desiredBeta = beta;\r\n        let desiredRadius = radius;\r\n\r\n        let dragging = false;\r\n        let panning = false;\r\n        let lastDist = 0;\r\n        let lastX = 0;\r\n        let lastY = 0;\r\n        this.autoRotate = false;\r\n        this.autoRotateSpeed = 0.01;\r\n\r\n        const keys: { [key: string]: boolean } = {};\r\n\r\n        let isUpdatingCamera = false;\r\n\r\n        const onCameraChange = () => {\r\n            if (isUpdatingCamera) return;\r\n\r\n            const eulerRotation = camera.rotation.toEuler();\r\n            desiredAlpha = -eulerRotation.y;\r\n            desiredBeta = -eulerRotation.x;\r\n\r\n            const x = camera.position.x - desiredRadius * Math.sin(desiredAlpha) * Math.cos(desiredBeta);\r\n            const y = camera.position.y + desiredRadius * Math.sin(desiredBeta);\r\n            const z = camera.position.z + desiredRadius * Math.cos(desiredAlpha) * Math.cos(desiredBeta);\r\n\r\n            desiredTarget = new Vector3(x, y, z);\r\n        };\r\n\r\n        camera.addEventListener(\"objectChanged\", onCameraChange);\r\n\r\n        this.setCameraTarget = (newTarget: Vector3) => {\r\n            const dx = newTarget.x - camera.position.x;\r\n            const dy = newTarget.y - camera.position.y;\r\n            const dz = newTarget.z - camera.position.z;\r\n            desiredRadius = Math.sqrt(dx * dx + dy * dy + dz * dz);\r\n            desiredBeta = Math.atan2(dy, Math.sqrt(dx * dx + dz * dz));\r\n            desiredAlpha = -Math.atan2(dx, dz);\r\n            desiredTarget = new Vector3(newTarget.x, newTarget.y, newTarget.z);\r\n        };\r\n\r\n        const computeZoomNorm = () => {\r\n            return 0.1 + (0.9 * (desiredRadius - this.minZoom)) / (this.maxZoom - this.minZoom);\r\n        };\r\n\r\n        const onKeyDown = (e: KeyboardEvent) => {\r\n            keys[e.code] = true;\r\n            // Map arrow keys to WASD keys\r\n            if (e.code === \"ArrowUp\") keys[\"KeyW\"] = true;\r\n            if (e.code === \"ArrowDown\") keys[\"KeyS\"] = true;\r\n            if (e.code === \"ArrowLeft\") keys[\"KeyA\"] = true;\r\n            if (e.code === \"ArrowRight\") keys[\"KeyD\"] = true;\r\n        };\r\n\r\n        const onKeyUp = (e: KeyboardEvent) => {\r\n            keys[e.code] = false; // Map arrow keys to WASD keys\r\n            if (e.code === \"ArrowUp\") keys[\"KeyW\"] = false;\r\n            if (e.code === \"ArrowDown\") keys[\"KeyS\"] = false;\r\n            if (e.code === \"ArrowLeft\") keys[\"KeyA\"] = false;\r\n            if (e.code === \"ArrowRight\") keys[\"KeyD\"] = false;\r\n        };\r\n\r\n        const onMouseDown = (e: MouseEvent) => {\r\n            preventDefault(e);\r\n\r\n            dragging = true;\r\n            panning = e.button === 2;\r\n            lastX = e.clientX;\r\n            lastY = e.clientY;\r\n            window.addEventListener(\"mouseup\", onMouseUp);\r\n            this.autoRotate = false;\r\n        };\r\n\r\n        const onMouseUp = (e: MouseEvent) => {\r\n            preventDefault(e);\r\n\r\n            dragging = false;\r\n            panning = false;\r\n            window.removeEventListener(\"mouseup\", onMouseUp);\r\n            this.autoRotate = true;\r\n        };\r\n\r\n        const onMouseMove = (e: MouseEvent) => {\r\n            preventDefault(e);\r\n\r\n            if (!dragging || !camera) return;\r\n\r\n            const dx = e.clientX - lastX;\r\n            const dy = e.clientY - lastY;\r\n\r\n            if (panning && this.enablePan) {\r\n                const zoomNorm = computeZoomNorm();\r\n                const panX = -dx * this.panSpeed * 0.01 * zoomNorm;\r\n                const panY = -dy * this.panSpeed * 0.01 * zoomNorm;\r\n                const R = Matrix3.RotationFromQuaternion(camera.rotation).buffer;\r\n                const right = new Vector3(R[0], R[3], R[6]);\r\n                const up = new Vector3(R[1], R[4], R[7]);\r\n                desiredTarget = desiredTarget.add(right.multiply(panX));\r\n                desiredTarget = desiredTarget.add(up.multiply(panY));\r\n            } else {\r\n                desiredAlpha -= dx * this.orbitSpeed * 0.003;\r\n                desiredBeta += dy * this.orbitSpeed * 0.003;\r\n                desiredBeta = Math.min(\r\n                    Math.max(desiredBeta, (this.minAngle * Math.PI) / 180),\r\n                    (this.maxAngle * Math.PI) / 180,\r\n                );\r\n            }\r\n\r\n            lastX = e.clientX;\r\n            lastY = e.clientY;\r\n        };\r\n\r\n        const onWheel = (e: WheelEvent) => {\r\n            preventDefault(e);\r\n\r\n            const zoomNorm = computeZoomNorm();\r\n            desiredRadius += e.deltaY * this.zoomSpeed * 0.025 * zoomNorm;\r\n            desiredRadius = Math.min(Math.max(desiredRadius, this.minZoom), this.maxZoom);\r\n        };\r\n\r\n        const onTouchStart = (e: TouchEvent) => {\r\n            preventDefault(e);\r\n\r\n            if (e.touches.length === 1) {\r\n                dragging = true;\r\n                panning = false;\r\n                lastX = e.touches[0].clientX;\r\n                lastY = e.touches[0].clientY;\r\n                lastDist = 0;\r\n            } else if (e.touches.length === 2) {\r\n                dragging = true;\r\n                panning = true;\r\n                lastX = (e.touches[0].clientX + e.touches[1].clientX) / 2;\r\n                lastY = (e.touches[0].clientY + e.touches[1].clientY) / 2;\r\n                const distX = e.touches[0].clientX - e.touches[1].clientX;\r\n                const distY = e.touches[0].clientY - e.touches[1].clientY;\r\n                lastDist = Math.sqrt(distX * distX + distY * distY);\r\n            }\r\n            this.autoRotate = false;\r\n        };\r\n\r\n        const onTouchEnd = (e: TouchEvent) => {\r\n            preventDefault(e);\r\n\r\n            dragging = false;\r\n            panning = false;\r\n            this.autoRotate = true;\r\n        };\r\n\r\n        const onTouchMove = (e: TouchEvent) => {\r\n            preventDefault(e);\r\n\r\n            if (!dragging || !camera) return;\r\n\r\n            if (panning && this.enablePan) {\r\n                const zoomNorm = computeZoomNorm();\r\n\r\n                const distX = e.touches[0].clientX - e.touches[1].clientX;\r\n                const distY = e.touches[0].clientY - e.touches[1].clientY;\r\n                const dist = Math.sqrt(distX * distX + distY * distY);\r\n                const delta = lastDist - dist;\r\n                desiredRadius += delta * this.zoomSpeed * 0.1 * zoomNorm;\r\n                desiredRadius = Math.min(Math.max(desiredRadius, this.minZoom), this.maxZoom);\r\n                lastDist = dist;\r\n\r\n                const touchX = (e.touches[0].clientX + e.touches[1].clientX) / 2;\r\n                const touchY = (e.touches[0].clientY + e.touches[1].clientY) / 2;\r\n                const dx = touchX - lastX;\r\n                const dy = touchY - lastY;\r\n                const R = Matrix3.RotationFromQuaternion(camera.rotation).buffer;\r\n                const right = new Vector3(R[0], R[3], R[6]);\r\n                const up = new Vector3(R[1], R[4], R[7]);\r\n                desiredTarget = desiredTarget.add(right.multiply(-dx * this.panSpeed * 0.025 * zoomNorm));\r\n                desiredTarget = desiredTarget.add(up.multiply(-dy * this.panSpeed * 0.025 * zoomNorm));\r\n                lastX = touchX;\r\n                lastY = touchY;\r\n            } else {\r\n                const dx = e.touches[0].clientX - lastX;\r\n                const dy = e.touches[0].clientY - lastY;\r\n\r\n                desiredAlpha -= dx * this.orbitSpeed * 0.003;\r\n                desiredBeta += dy * this.orbitSpeed * 0.003;\r\n                desiredBeta = Math.min(\r\n                    Math.max(desiredBeta, (this.minAngle * Math.PI) / 180),\r\n                    (this.maxAngle * Math.PI) / 180,\r\n                );\r\n\r\n                lastX = e.touches[0].clientX;\r\n                lastY = e.touches[0].clientY;\r\n            }\r\n        };\r\n\r\n        const lerp = (a: number, b: number, t: number) => {\r\n            return (1 - t) * a + t * b;\r\n        };\r\n\r\n        this.update = () => {\r\n            isUpdatingCamera = true;\r\n\r\n            alpha = lerp(alpha, desiredAlpha, this.dampening);\r\n            beta = lerp(beta, desiredBeta, this.dampening);\r\n            radius = lerp(radius, desiredRadius, this.dampening);\r\n            target = target.lerp(desiredTarget, this.dampening);\r\n\r\n            const x = target.x + radius * Math.sin(alpha) * Math.cos(beta);\r\n            const y = target.y - radius * Math.sin(beta);\r\n            const z = target.z - radius * Math.cos(alpha) * Math.cos(beta);\r\n            camera.position = new Vector3(x, y, z);\r\n\r\n            const direction = target.subtract(camera.position).normalize();\r\n            const rx = Math.asin(-direction.y);\r\n            const ry = Math.atan2(direction.x, direction.z);\r\n            camera.rotation = Quaternion.FromEuler(new Vector3(rx, ry, 0));\r\n\r\n            const moveSpeed = 0.025;\r\n            const rotateSpeed = 0.01;\r\n\r\n            const R = Matrix3.RotationFromQuaternion(camera.rotation).buffer;\r\n            const forward = new Vector3(-R[2], -R[5], -R[8]);\r\n            const right = new Vector3(R[0], R[3], R[6]);\r\n\r\n            if (keys[\"KeyS\"]) desiredTarget = desiredTarget.add(forward.multiply(moveSpeed));\r\n            if (keys[\"KeyW\"]) desiredTarget = desiredTarget.subtract(forward.multiply(moveSpeed));\r\n            if (keys[\"KeyA\"]) desiredTarget = desiredTarget.subtract(right.multiply(moveSpeed));\r\n            if (keys[\"KeyD\"]) desiredTarget = desiredTarget.add(right.multiply(moveSpeed));\r\n            \r\n\r\n            if(this.autoRotate) {\r\n                desiredAlpha += this.autoRotateSpeed;;\r\n            }\r\n\r\n            // Add rotation with 'e' and 'q' for horizontal rotation\r\n            if (keys[\"KeyE\"]) desiredAlpha += rotateSpeed;\r\n            if (keys[\"KeyQ\"]) desiredAlpha -= rotateSpeed;\r\n\r\n            // Add rotation with 'r' and 'f' for vertical rotation\r\n            if (keys[\"KeyR\"]) desiredBeta += rotateSpeed;\r\n            if (keys[\"KeyF\"]) desiredBeta -= rotateSpeed;\r\n\r\n            isUpdatingCamera = false;\r\n        };\r\n\r\n        const preventDefault = (e: Event) => {\r\n            e.preventDefault();\r\n            e.stopPropagation();\r\n        };\r\n\r\n        this.dispose = () => {\r\n            canvas.removeEventListener(\"dragenter\", preventDefault);\r\n            canvas.removeEventListener(\"dragover\", preventDefault);\r\n            canvas.removeEventListener(\"dragleave\", preventDefault);\r\n            canvas.removeEventListener(\"contextmenu\", preventDefault);\r\n\r\n            canvas.removeEventListener(\"mousedown\", onMouseDown);\r\n            canvas.removeEventListener(\"mousemove\", onMouseMove);\r\n            canvas.removeEventListener(\"wheel\", onWheel);\r\n\r\n            canvas.removeEventListener(\"touchstart\", onTouchStart);\r\n            canvas.removeEventListener(\"touchend\", onTouchEnd);\r\n            canvas.removeEventListener(\"touchmove\", onTouchMove);\r\n\r\n            if (enableKeyboardControls) {\r\n                window.removeEventListener(\"keydown\", onKeyDown);\r\n                window.removeEventListener(\"keyup\", onKeyUp);\r\n            }\r\n        };\r\n\r\n        if (enableKeyboardControls) {\r\n            window.addEventListener(\"keydown\", onKeyDown);\r\n            window.addEventListener(\"keyup\", onKeyUp);\r\n        }\r\n\r\n        canvas.addEventListener(\"dragenter\", preventDefault);\r\n        canvas.addEventListener(\"dragover\", preventDefault);\r\n        canvas.addEventListener(\"dragleave\", preventDefault);\r\n        canvas.addEventListener(\"contextmenu\", preventDefault);\r\n\r\n        canvas.addEventListener(\"mousedown\", onMouseDown);\r\n        canvas.addEventListener(\"mousemove\", onMouseMove);\r\n        canvas.addEventListener(\"wheel\", onWheel);\r\n\r\n        canvas.addEventListener(\"touchstart\", onTouchStart);\r\n        canvas.addEventListener(\"touchend\", onTouchEnd);\r\n        canvas.addEventListener(\"touchmove\", onTouchMove);\r\n\r\n        this.update();\r\n    }\r\n}\r\n\r\nexport { OrbitControls };\r\n","import { Vector3 } from \"./Vector3\";\r\n\r\nclass Plane {\r\n    public readonly normal: Vector3;\r\n    public readonly point: Vector3;\r\n\r\n    constructor(normal: Vector3, point: Vector3) {\r\n        this.normal = normal;\r\n        this.point = point;\r\n    }\r\n\r\n    intersect(origin: Vector3, direction: Vector3): Vector3 | null {\r\n        const denominator = this.normal.dot(direction);\r\n\r\n        if (Math.abs(denominator) < 0.0001) {\r\n            return null;\r\n        }\r\n\r\n        const t = this.normal.dot(this.point.subtract(origin)) / denominator;\r\n\r\n        if (t < 0) {\r\n            return null;\r\n        }\r\n\r\n        return origin.add(direction.multiply(t));\r\n    }\r\n}\r\n\r\nexport { Plane };\r\n","import { ShaderProgram } from \"../programs/ShaderProgram\";\r\n\r\nclass ShaderPass {\r\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n    initialize(program: ShaderProgram) {}\r\n    render() {}\r\n    dispose() {}\r\n}\r\n\r\nexport { ShaderPass };\r\n","\r\nvar loadWasm = (() => {\r\n  var _scriptDir = import.meta.url;\r\n  \r\n  return (\r\nfunction(moduleArg = {}) {\r\n\r\nvar Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module[\"ready\"]=new Promise((resolve,reject)=>{readyPromiseResolve=resolve;readyPromiseReject=reject});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram=\"./this.program\";var quit_=(status,toThrow)=>{throw toThrow};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var scriptDirectory=\"\";function locateFile(path){if(Module[\"locateFile\"]){return Module[\"locateFile\"](path,scriptDirectory)}return scriptDirectory+path}var read_,readAsync,readBinary;if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){if(ENVIRONMENT_IS_WORKER){scriptDirectory=self.location.href}else if(typeof document!=\"undefined\"&&document.currentScript){scriptDirectory=document.currentScript.src}if(_scriptDir){scriptDirectory=_scriptDir}if(scriptDirectory.startsWith(\"blob:\")){scriptDirectory=\"\"}else{scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,\"\").lastIndexOf(\"/\")+1)}{read_=url=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.send(null);return xhr.responseText};if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,false);xhr.responseType=\"arraybuffer\";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=(url,onload,onerror)=>{var xhr=new XMLHttpRequest;xhr.open(\"GET\",url,true);xhr.responseType=\"arraybuffer\";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return}onerror()};xhr.onerror=onerror;xhr.send(null)}}}else{}var out=Module[\"print\"]||console.log.bind(console);var err=Module[\"printErr\"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;if(Module[\"arguments\"])arguments_=Module[\"arguments\"];if(Module[\"thisProgram\"])thisProgram=Module[\"thisProgram\"];if(Module[\"quit\"])quit_=Module[\"quit\"];var wasmBinary;if(Module[\"wasmBinary\"])wasmBinary=Module[\"wasmBinary\"];if(typeof WebAssembly!=\"object\"){abort(\"no native wasm support detected\")}function intArrayFromBase64(s){var decoded=atob(s);var bytes=new Uint8Array(decoded.length);for(var i=0;i<decoded.length;++i){bytes[i]=decoded.charCodeAt(i)}return bytes}function tryParseAsDataURI(filename){if(!isDataURI(filename)){return}return intArrayFromBase64(filename.slice(dataURIPrefix.length))}var wasmMemory;var ABORT=false;var EXITSTATUS;var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module[\"HEAP8\"]=HEAP8=new Int8Array(b);Module[\"HEAP16\"]=HEAP16=new Int16Array(b);Module[\"HEAPU8\"]=HEAPU8=new Uint8Array(b);Module[\"HEAPU16\"]=HEAPU16=new Uint16Array(b);Module[\"HEAP32\"]=HEAP32=new Int32Array(b);Module[\"HEAPU32\"]=HEAPU32=new Uint32Array(b);Module[\"HEAPF32\"]=HEAPF32=new Float32Array(b);Module[\"HEAPF64\"]=HEAPF64=new Float64Array(b)}var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;function preRun(){if(Module[\"preRun\"]){if(typeof Module[\"preRun\"]==\"function\")Module[\"preRun\"]=[Module[\"preRun\"]];while(Module[\"preRun\"].length){addOnPreRun(Module[\"preRun\"].shift())}}callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=true;callRuntimeCallbacks(__ATINIT__)}function postRun(){if(Module[\"postRun\"]){if(typeof Module[\"postRun\"]==\"function\")Module[\"postRun\"]=[Module[\"postRun\"]];while(Module[\"postRun\"].length){addOnPostRun(Module[\"postRun\"].shift())}}callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(cb){__ATPRERUN__.unshift(cb)}function addOnInit(cb){__ATINIT__.unshift(cb)}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb)}var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;function addRunDependency(id){runDependencies++;Module[\"monitorRunDependencies\"]?.(runDependencies)}function removeRunDependency(id){runDependencies--;Module[\"monitorRunDependencies\"]?.(runDependencies);if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}}function abort(what){Module[\"onAbort\"]?.(what);what=\"Aborted(\"+what+\")\";err(what);ABORT=true;EXITSTATUS=1;what+=\". Build with -sASSERTIONS for more info.\";var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e}var dataURIPrefix=\"data:application/octet-stream;base64,\";var isDataURI=filename=>filename.startsWith(dataURIPrefix);var wasmBinaryFile;wasmBinaryFile=\"data:application/octet-stream;base64,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CyACQfAAaiQAIAALtQEBBH8jAEFAaiIDJAACf0EBIAAgAUEAEAoNABpBACABRQ0AGkEAIAFBnBYQICIBRQ0AGiADQQxqIQRBNCEFA0AgBEEAOgAAIARBAWohBCAFQQFrIgUNAAsgA0EBNgI4IANBfzYCFCADIAA2AhAgAyABNgIIIAEgA0EIaiACKAIAQQEgASgCACgCHBEAACADKAIgIgBBAUYEQCACIAMoAhg2AgALIABBAUYLIQYgA0FAayQAIAYLCgAgACABQQAQCgsLtxICAEGACAumEnVuc2lnbmVkIHNob3J0AHVuc2lnbmVkIGludABmbG9hdAB1aW50NjRfdAB1bnNpZ25lZCBjaGFyAGJvb2wAdW5zaWduZWQgbG9uZwBzdGQ6OndzdHJpbmcAc3RkOjpzdHJpbmcAc3RkOjp1MTZzdHJpbmcAc3RkOjp1MzJzdHJpbmcAZG91YmxlAHZvaWQAZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2hvcnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIHNob3J0PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGludD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8ZmxvYXQ+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQ4X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDhfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dWludDE2X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGludDE2X3Q+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVpbnQ2NF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzxpbnQ2NF90PgBlbXNjcmlwdGVuOjptZW1vcnlfdmlldzx1aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8aW50MzJfdD4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8Y2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8dW5zaWduZWQgY2hhcj4Ac3RkOjpiYXNpY19zdHJpbmc8dW5zaWduZWQgY2hhcj4AZW1zY3JpcHRlbjo6bWVtb3J5X3ZpZXc8c2lnbmVkIGNoYXI+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PHVuc2lnbmVkIGxvbmc+AGVtc2NyaXB0ZW46Om1lbW9yeV92aWV3PGRvdWJsZT4ATlN0M19fMjEyYmFzaWNfc3RyaW5nSWNOU18xMWNoYXJfdHJhaXRzSWNFRU5TXzlhbGxvY2F0b3JJY0VFRUUAAAAAlAwAADIHAABOU3QzX18yMTJiYXNpY19zdHJpbmdJaE5TXzExY2hhcl90cmFpdHNJaEVFTlNfOWFsbG9jYXRvckloRUVFRQAAlAwAAHwHAABOU3QzX18yMTJiYXNpY19zdHJpbmdJd05TXzExY2hhcl90cmFpdHNJd0VFTlNfOWFsbG9jYXRvckl3RUVFRQAAlAwAAMQHAABOU3QzX18yMTJiYXNpY19zdHJpbmdJRHNOU18xMWNoYXJfdHJhaXRzSURzRUVOU185YWxsb2NhdG9ySURzRUVFRQAAAJQMAAAMCAAATlN0M19fMjEyYmFzaWNfc3RyaW5nSURpTlNfMTFjaGFyX3RyYWl0c0lEaUVFTlNfOWFsbG9jYXRvcklEaUVFRUUAAACUDAAAWAgAAE4xMGVtc2NyaXB0ZW4zdmFsRQAAlAwAAKQIAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0ljRUUAAJQMAADACAAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJYUVFAACUDAAA6AgAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWhFRQAAlAwAABAJAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lzRUUAAJQMAAA4CQAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJdEVFAACUDAAAYAkAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWlFRQAAlAwAAIgJAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lqRUUAAJQMAACwCQAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJbEVFAACUDAAA2AkAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SW1FRQAAlAwAAAAKAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0l4RUUAAJQMAAAoCgAATjEwZW1zY3JpcHRlbjExbWVtb3J5X3ZpZXdJeUVFAACUDAAAUAoAAE4xMGVtc2NyaXB0ZW4xMW1lbW9yeV92aWV3SWZFRQAAlAwAAHgKAABOMTBlbXNjcmlwdGVuMTFtZW1vcnlfdmlld0lkRUUAAJQMAACgCgAATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAAAAAvAwAAMgKAAAgDQAATjEwX19jeHhhYml2MTE3X19jbGFzc190eXBlX2luZm9FAAAAvAwAAPgKAADsCgAATjEwX19jeHhhYml2MTE3X19wYmFzZV90eXBlX2luZm9FAAAAvAwAACgLAADsCgAATjEwX19jeHhhYml2MTE5X19wb2ludGVyX3R5cGVfaW5mb0UAvAwAAFgLAABMCwAAAAAAAMwLAAACAAAAAwAAAAQAAAAFAAAABgAAAE4xMF9fY3h4YWJpdjEyM19fZnVuZGFtZW50YWxfdHlwZV9pbmZvRQC8DAAApAsAAOwKAAB2AAAAkAsAANgLAABiAAAAkAsAAOQLAABjAAAAkAsAAPALAABoAAAAkAsAAPwLAABhAAAAkAsAAAgMAABzAAAAkAsAABQMAAB0AAAAkAsAACAMAABpAAAAkAsAACwMAABqAAAAkAsAADgMAABsAAAAkAsAAEQMAABtAAAAkAsAAFAMAAB4AAAAkAsAAFwMAAB5AAAAkAsAAGgMAABmAAAAkAsAAHQMAABkAAAAkAsAAIAMAAAAAAAAHAsAAAIAAAAHAAAABAAAAAUAAAAIAAAACQAAAAoAAAALAAAAAAAAAAQNAAACAAAADAAAAAQAAAAFAAAACAAAAA0AAAAOAAAADwAAAE4xMF9fY3h4YWJpdjEyMF9fc2lfY2xhc3NfdHlwZV9pbmZvRQAAAAC8DAAA3AwAABwLAABTdDl0eXBlX2luZm8AAAAAlAwAABANAEGoGgsD4A8B\";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile)}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}var binary=tryParseAsDataURI(file);if(binary){return binary}if(readBinary){return readBinary(file)}throw\"both async and sync fetching of the wasm failed\"}function getBinaryPromise(binaryFile){return Promise.resolve().then(()=>getBinarySync(binaryFile))}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(binary=>WebAssembly.instantiate(binary,imports)).then(receiver,reason=>{err(`failed to asynchronously prepare wasm: ${reason}`);abort(reason)})}function instantiateAsync(binary,binaryFile,imports,callback){return instantiateArrayBuffer(binaryFile,imports,callback)}function createWasm(){var info={\"a\":wasmImports};function receiveInstance(instance,module){wasmExports=instance.exports;wasmMemory=wasmExports[\"k\"];updateMemoryViews();addOnInit(wasmExports[\"l\"]);removeRunDependency(\"wasm-instantiate\");return wasmExports}addRunDependency(\"wasm-instantiate\");function receiveInstantiationResult(result){receiveInstance(result[\"instance\"])}if(Module[\"instantiateWasm\"]){try{return Module[\"instantiateWasm\"](info,receiveInstance)}catch(e){err(`Module.instantiateWasm callback failed with error: ${e}`);readyPromiseReject(e)}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult).catch(readyPromiseReject);return{}}var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};var noExitRuntime=Module[\"noExitRuntime\"]||true;var __embind_register_bigint=(primitiveType,name,size,minRange,maxRange)=>{};var embind_init_charCodes=()=>{var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i)}embind_charCodes=codes};var embind_charCodes;var readLatin1String=ptr=>{var ret=\"\";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]]}return ret};var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError;var throwBindingError=message=>{throw new BindingError(message)};var InternalError;function sharedRegisterType(rawType,registeredInstance,options={}){var name=registeredInstance.name;if(!rawType){throwBindingError(`type \"${name}\" must have a positive integer typeid pointer`)}if(registeredTypes.hasOwnProperty(rawType)){if(options.ignoreDuplicateRegistrations){return}else{throwBindingError(`Cannot register type '${name}' twice`)}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(awaitingDependencies.hasOwnProperty(rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(cb=>cb())}}function registerType(rawType,registeredInstance,options={}){if(!(\"argPackAdvance\"in registeredInstance)){throw new TypeError(\"registerType registeredInstance requires argPackAdvance\")}return sharedRegisterType(rawType,registeredInstance,options)}var GenericWireTypeSize=8;var __embind_register_bool=(rawType,name,trueValue,falseValue)=>{name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":function(wt){return!!wt},\"toWireType\":function(destructors,o){return o?trueValue:falseValue},\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":function(pointer){return this[\"fromWireType\"](HEAPU8[pointer])},destructorFunction:null})};var emval_freelist=[];var emval_handles=[];var __emval_decref=handle=>{if(handle>9&&0===--emval_handles[handle+1]){emval_handles[handle]=undefined;emval_freelist.push(handle)}};var count_emval_handles=()=>emval_handles.length/2-5-emval_freelist.length;var init_emval=()=>{emval_handles.push(0,1,undefined,1,null,1,true,1,false,1);Module[\"count_emval_handles\"]=count_emval_handles};var Emval={toValue:handle=>{if(!handle){throwBindingError(\"Cannot use deleted val. handle = \"+handle)}return emval_handles[handle]},toHandle:value=>{switch(value){case undefined:return 2;case null:return 4;case true:return 6;case false:return 8;default:{const handle=emval_freelist.pop()||emval_handles.length;emval_handles[handle]=value;emval_handles[handle+1]=1;return handle}}}};function readPointer(pointer){return this[\"fromWireType\"](HEAPU32[pointer>>2])}var EmValType={name:\"emscripten::val\",\"fromWireType\":handle=>{var rv=Emval.toValue(handle);__emval_decref(handle);return rv},\"toWireType\":(destructors,value)=>Emval.toHandle(value),\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":readPointer,destructorFunction:null};var __embind_register_emval=rawType=>registerType(rawType,EmValType);var floatReadValueFromPointer=(name,width)=>{switch(width){case 4:return function(pointer){return this[\"fromWireType\"](HEAPF32[pointer>>2])};case 8:return function(pointer){return this[\"fromWireType\"](HEAPF64[pointer>>3])};default:throw new TypeError(`invalid float width (${width}): ${name}`)}};var __embind_register_float=(rawType,name,size)=>{name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":value=>value,\"toWireType\":(destructors,value)=>value,\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":floatReadValueFromPointer(name,size),destructorFunction:null})};var integerReadValueFromPointer=(name,width,signed)=>{switch(width){case 1:return signed?pointer=>HEAP8[pointer]:pointer=>HEAPU8[pointer];case 2:return signed?pointer=>HEAP16[pointer>>1]:pointer=>HEAPU16[pointer>>1];case 4:return signed?pointer=>HEAP32[pointer>>2]:pointer=>HEAPU32[pointer>>2];default:throw new TypeError(`invalid integer width (${width}): ${name}`)}};var __embind_register_integer=(primitiveType,name,size,minRange,maxRange)=>{name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295}var fromWireType=value=>value;if(minRange===0){var bitshift=32-8*size;fromWireType=value=>value<<bitshift>>>bitshift}var isUnsignedType=name.includes(\"unsigned\");var checkAssertions=(value,toTypeName)=>{};var toWireType;if(isUnsignedType){toWireType=function(destructors,value){checkAssertions(value,this.name);return value>>>0}}else{toWireType=function(destructors,value){checkAssertions(value,this.name);return value}}registerType(primitiveType,{name:name,\"fromWireType\":fromWireType,\"toWireType\":toWireType,\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":integerReadValueFromPointer(name,size,minRange!==0),destructorFunction:null})};var __embind_register_memory_view=(rawType,dataTypeIndex,name)=>{var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){var size=HEAPU32[handle>>2];var data=HEAPU32[handle+4>>2];return new TA(HEAP8.buffer,data,size)}name=readLatin1String(name);registerType(rawType,{name:name,\"fromWireType\":decodeMemoryView,\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":decodeMemoryView},{ignoreDuplicateRegistrations:true})};var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63}}heap[outIdx]=0;return outIdx-startIdx};var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var UTF8Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder(\"utf8\"):undefined;var UTF8ArrayToString=(heapOrArray,idx,maxBytesToRead)=>{var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str=\"\";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var UTF8ToString=(ptr,maxBytesToRead)=>ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):\"\";var __embind_register_std_string=(rawType,name)=>{name=readLatin1String(name);var stdStringIsUTF8=name===\"std::string\";registerType(rawType,{name:name,\"fromWireType\"(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+1}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i])}str=a.join(\"\")}_free(value);return str},\"toWireType\"(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value)}var length;var valueIsOfTypeString=typeof value==\"string\";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError(\"Cannot pass non-string to std::string\")}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value)}else{length=value.length}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1)}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError(\"String has UTF-16 code units that do not fit in 8 bits\")}HEAPU8[ptr+i]=charCode}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i]}}}if(destructors!==null){destructors.push(_free,base)}return base},\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":readPointer,destructorFunction(ptr){_free(ptr)}})};var UTF16Decoder=typeof TextDecoder!=\"undefined\"?new TextDecoder(\"utf-16le\"):undefined;var UTF16ToString=(ptr,maxBytesToRead)=>{var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str=\"\";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit)}return str};var stringToUTF16=(str,outPtr,maxBytesToWrite)=>{maxBytesToWrite??=2147483647;if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2}HEAP16[outPtr>>1]=0;return outPtr-startPtr};var lengthBytesUTF16=str=>str.length*2;var UTF32ToString=(ptr,maxBytesToRead)=>{var i=0;var str=\"\";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}else{str+=String.fromCharCode(utf32)}}return str};var stringToUTF32=(str,outPtr,maxBytesToWrite)=>{maxBytesToWrite??=2147483647;if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break}HEAP32[outPtr>>2]=0;return outPtr-startPtr};var lengthBytesUTF32=str=>{var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4}return len};var __embind_register_std_wstring=(rawType,charSize,name)=>{name=readLatin1String(name);var decodeString,encodeString,readCharAt,lengthBytesUTF;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;readCharAt=pointer=>HEAPU16[pointer>>1]}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;readCharAt=pointer=>HEAPU32[pointer>>2]}registerType(rawType,{name:name,\"fromWireType\":value=>{var length=HEAPU32[value>>2];var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||readCharAt(currentBytePtr)==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment}else{str+=String.fromCharCode(0);str+=stringSegment}decodeStartPtr=currentBytePtr+charSize}}_free(value);return str},\"toWireType\":(destructors,value)=>{if(!(typeof value==\"string\")){throwBindingError(`Cannot pass non-string to C++ string type ${name}`)}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length/charSize;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr)}return ptr},\"argPackAdvance\":GenericWireTypeSize,\"readValueFromPointer\":readPointer,destructorFunction(ptr){_free(ptr)}})};var __embind_register_void=(rawType,name)=>{name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,\"argPackAdvance\":0,\"fromWireType\":()=>undefined,\"toWireType\":(destructors,o)=>undefined})};var getHeapMax=()=>2147483648;var growMemory=size=>{var b=wasmMemory.buffer;var pages=(size-b.byteLength+65535)/65536;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};var _emscripten_resize_heap=requestedSize=>{var oldSize=HEAPU8.length;requestedSize>>>=0;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}var alignUp=(x,multiple)=>x+(multiple-x%multiple)%multiple;for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false};embind_init_charCodes();BindingError=Module[\"BindingError\"]=class BindingError extends Error{constructor(message){super(message);this.name=\"BindingError\"}};InternalError=Module[\"InternalError\"]=class InternalError extends Error{constructor(message){super(message);this.name=\"InternalError\"}};init_emval();var wasmImports={f:__embind_register_bigint,i:__embind_register_bool,h:__embind_register_emval,e:__embind_register_float,b:__embind_register_integer,a:__embind_register_memory_view,d:__embind_register_std_string,c:__embind_register_std_wstring,j:__embind_register_void,g:_emscripten_resize_heap};var wasmExports=createWasm();var ___wasm_call_ctors=()=>(___wasm_call_ctors=wasmExports[\"l\"])();var _evaluate=Module[\"_evaluate\"]=(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12)=>(_evaluate=Module[\"_evaluate\"]=wasmExports[\"m\"])(a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,a10,a11,a12);var _malloc=Module[\"_malloc\"]=a0=>(_malloc=Module[\"_malloc\"]=wasmExports[\"o\"])(a0);var _free=Module[\"_free\"]=a0=>(_free=Module[\"_free\"]=wasmExports[\"p\"])(a0);var ___cxa_is_pointer_type=a0=>(___cxa_is_pointer_type=wasmExports[\"__cxa_is_pointer_type\"])(a0);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller};function run(){if(runDependencies>0){return}preRun();if(runDependencies>0){return}function doRun(){if(calledRun)return;calledRun=true;Module[\"calledRun\"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module[\"onRuntimeInitialized\"])Module[\"onRuntimeInitialized\"]();postRun()}if(Module[\"setStatus\"]){Module[\"setStatus\"](\"Running...\");setTimeout(function(){setTimeout(function(){Module[\"setStatus\"](\"\")},1);doRun()},1)}else{doRun()}}if(Module[\"preInit\"]){if(typeof Module[\"preInit\"]==\"function\")Module[\"preInit\"]=[Module[\"preInit\"]];while(Module[\"preInit\"].length>0){Module[\"preInit\"].pop()()}}run();\r\n\r\n\r\n  return moduleArg.ready\r\n}\r\n);\r\n})();\r\nexport default loadWasm;","import { Splat } from \"../../../splats/Splat\";\r\nimport { RenderProgram } from \"../programs/RenderProgram\";\r\n\r\nimport loadWasm from \"../../../wasm/intersect\";\r\n\r\nclass IntersectionTester {\r\n    testPoint: (x: number, y: number) => Splat | null;\r\n\r\n    constructor(renderProgram: RenderProgram) {\r\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n        let wasmModule: any;\r\n\r\n        const initWasm = async () => {\r\n            wasmModule = await loadWasm();\r\n        };\r\n\r\n        initWasm();\r\n\r\n        let allocatedVertexCount: number = 0;\r\n        let allocatedTransformCount: number = 0;\r\n\r\n        let viewPtr: number;\r\n        let transformsPtr: number;\r\n        let transformIndicesPtr: number;\r\n        let positionsPtr: number;\r\n        let rotationsPtr: number;\r\n        let scalesPtr: number;\r\n        let depthIndexPtr: number;\r\n        let chunksPtr: number;\r\n        let originPtr: number;\r\n        let directionPtr: number;\r\n        let resultPtr: number;\r\n\r\n        const allocateVertices = (vertexCount: number) => {\r\n            if (vertexCount > allocatedVertexCount) {\r\n                if (allocatedVertexCount > 0) {\r\n                    wasmModule._free(viewPtr);\r\n                    wasmModule._free(transformIndicesPtr);\r\n                    wasmModule._free(positionsPtr);\r\n                    wasmModule._free(rotationsPtr);\r\n                    wasmModule._free(scalesPtr);\r\n                    wasmModule._free(depthIndexPtr);\r\n                    wasmModule._free(chunksPtr);\r\n                    wasmModule._free(originPtr);\r\n                    wasmModule._free(directionPtr);\r\n                    wasmModule._free(resultPtr);\r\n                }\r\n\r\n                allocatedVertexCount = vertexCount;\r\n\r\n                viewPtr = wasmModule._malloc(16 * 4);\r\n                transformIndicesPtr = wasmModule._malloc(allocatedVertexCount * 4);\r\n                positionsPtr = wasmModule._malloc(3 * allocatedVertexCount * 4);\r\n                rotationsPtr = wasmModule._malloc(4 * allocatedVertexCount * 4);\r\n                scalesPtr = wasmModule._malloc(3 * allocatedVertexCount * 4);\r\n                depthIndexPtr = wasmModule._malloc(allocatedVertexCount * 4);\r\n                chunksPtr = wasmModule._malloc(allocatedVertexCount);\r\n                originPtr = wasmModule._malloc(3 * 4);\r\n                directionPtr = wasmModule._malloc(3 * 4);\r\n                resultPtr = wasmModule._malloc(4);\r\n            }\r\n        };\r\n\r\n        const allocateTransforms = (transformCount: number) => {\r\n            if (transformCount > allocatedTransformCount) {\r\n                if (allocatedTransformCount > 0) {\r\n                    wasmModule._free(transformsPtr);\r\n                }\r\n\r\n                allocatedTransformCount = transformCount;\r\n\r\n                transformsPtr = wasmModule._malloc(20 * allocatedTransformCount * 4);\r\n            }\r\n        };\r\n\r\n        this.testPoint = (x: number, y: number) => {\r\n            if (!wasmModule) {\r\n                throw new Error(\"Wasm module not loaded\");\r\n            }\r\n\r\n            if (!renderProgram.camera) {\r\n                throw new Error(\"Camera not set\");\r\n            }\r\n\r\n            if (!renderProgram.renderData || !renderProgram.depthIndex || !renderProgram.chunks) {\r\n                return null;\r\n            }\r\n\r\n            const renderData = renderProgram.renderData;\r\n            const depthIndex = renderProgram.depthIndex;\r\n            const chunks = renderProgram.chunks;\r\n\r\n            const targetAllocatedVertexCount = Math.pow(2, Math.ceil(Math.log2(renderData.vertexCount)));\r\n            allocateVertices(targetAllocatedVertexCount);\r\n\r\n            const targetAllocatedTransformCount = Math.pow(2, Math.ceil(Math.log2(renderData.transforms.length / 20)));\r\n            allocateTransforms(targetAllocatedTransformCount);\r\n\r\n            const normalizedX = (x + 1) / 2;\r\n            const normalizedY = (y + 1) / 2;\r\n            const chunk = Math.floor(normalizedX * 15) + Math.floor(normalizedY * 15) * 15;\r\n\r\n            const camera = renderProgram.camera;\r\n            const ray = camera.screenPointToRay(x, y);\r\n\r\n            wasmModule.HEAPF32.set(camera.data.viewMatrix.buffer, viewPtr / 4);\r\n            wasmModule.HEAPU32.set(renderData.transformIndices, transformIndicesPtr / 4);\r\n            wasmModule.HEAPF32.set(renderData.positions, positionsPtr / 4);\r\n            wasmModule.HEAPF32.set(renderData.rotations, rotationsPtr / 4);\r\n            wasmModule.HEAPF32.set(renderData.scales, scalesPtr / 4);\r\n            wasmModule.HEAPU32.set(depthIndex, depthIndexPtr / 4);\r\n            wasmModule.HEAPU8.set(chunks, chunksPtr);\r\n            wasmModule.HEAPF32.set(camera.position.flat(), originPtr / 4);\r\n            wasmModule.HEAPF32.set(ray.flat(), directionPtr / 4);\r\n            wasmModule.HEAPF32.set(renderData.transforms, transformsPtr / 4);\r\n\r\n            wasmModule._evaluate(\r\n                viewPtr,\r\n                transformsPtr,\r\n                transformIndicesPtr,\r\n                positionsPtr,\r\n                rotationsPtr,\r\n                scalesPtr,\r\n                depthIndexPtr,\r\n                chunksPtr,\r\n                renderData.vertexCount,\r\n                chunk,\r\n                originPtr,\r\n                directionPtr,\r\n                resultPtr,\r\n            );\r\n\r\n            const result = wasmModule.HEAPU32[resultPtr / 4];\r\n            if (result !== 0xffffffff) {\r\n                const splat = renderData.getSplat(result) as Splat;\r\n                return splat;\r\n            }\r\n\r\n            return null;\r\n        };\r\n    }\r\n}\r\n\r\nexport { IntersectionTester };\r\n"],"names":["Vector3","constructor","x","y","z","this","equals","v","add","subtract","multiply","buffer","cross","dot","lerp","t","magnitude","Math","sqrt","distanceTo","normalize","length","flat","clone","toString","join","One","value","Quaternion","w","q","l","w1","x1","y1","z1","w2","x2","y2","z2","inverse","apply","vecQuat","conjugate","rotatedQuat","FromEuler","e","halfX","halfY","halfZ","cy","cos","sy","sin","cp","sp","cz","sz","toEuler","sinr_cosp","cosr_cosp","atan2","sinp","abs","sign","PI","asin","siny_cosp","cosy_cosp","FromMatrix3","matrix","m","trace","s","FromAxisAngle","axis","angle","halfAngle","EventDispatcher","listeners","Map","addEventListener","type","listener","has","set","Set","get","removeEventListener","delete","hasEventListener","dispatchEvent","event","Matrix4","n11","n12","n13","n14","n21","n22","n23","n24","n31","n32","n33","n34","n41","n42","n43","n44","i","a","b","determinant","invert","det","Error","invDet","Compose","position","rotation","scale","xx","xy","xz","yy","yz","zz","wx","wy","wz","sx","ObjectAddedEvent","Event","object","super","ObjectRemovedEvent","ObjectChangedEvent","Object3D","positionChanged","rotationChanged","scaleChanged","_position","_rotation","_scale","_transform","_changeEvent","update","applyPosition","applyRotation","applyScale","_updateMatrix","forward","transform","Matrix3","Eye","Diagonal","RotationFromQuaternion","RotationFromEuler","cx","SplatData","vertexCount","positions","rotations","scales","colors","changed","detached","_vertexCount","_positions","Float32Array","_rotations","_scales","_colors","Uint8Array","_selection","translate","translation","rotate","R","currentRotation","newRot","serialize","data","RowLength","f_buffer","u_buffer","reattach","selection","console","assert","byteLength","Deserialize","getBoundingBox","minX","Infinity","minY","minZ","maxX","maxY","maxZ","min","max","Converter","SplatToPLY","header","properties","push","property","headerBuffer","TextEncoder","encode","plyRowLength","plyLength","output","DataView","ArrayBuffer","offset","scale_offset","opacity_offset","rot_offset","pos0","pos1","pos2","f_dc_0","SH_C0","f_dc_1","f_dc_2","alpha","opacity","log","scale0","scale1","scale2","rot0","rot1","rot2","rot3","setFloat32","f_dc_offset","Splat","splat","undefined","selectedChanged","_selected","_data","saveToFile","name","format","document","now","Date","getFullYear","getMonth","getDate","blob","plyData","Blob","link","createElement","download","href","URL","createObjectURL","click","selected","CameraData","_fx","_fy","_near","_far","_width","_height","_projectionMatrix","_viewMatrix","_viewProj","_updateProjectionMatrix","fx","width","fy","height","far","near","projectionMatrix","viewMatrix","setSize","viewProj","Vector4","Camera","camera","screenPointToRay","clipSpaceCoords","inverseProjectionMatrix","cameraSpaceCoords","inverseViewMatrix","worldSpaceCoords","Scene","_objects","addObject","objects","removeObject","index","indexOf","splice","findObject","predicate","findObjectOfType","reset","objectsToRemove","slice","buffers","async","initiateFetchRequest","url","useCache","req","fetch","mode","credentials","cache","status","loadRequestDataIntoBuffer","res","onProgress","headers","reader","body","getReader","contentLength","parseInt","bytesRead","done","read","loadDataIntoBuffer","chunks","receivedLength","chunk","loadChunkedDataIntoBuffer","Loader","LoadAsync","scene","LoadFromFileAsync","file","FileReader","onload","target","result","onprogress","loaded","total","readAsArrayBuffer","Promise","resolve","onloadend","PLYLoader","_ParsePLYBuffer","inputBuffer","ubuf","headerText","TextDecoder","decode","header_end","header_end_index","exec","rowOffset","offsets","double","int","uint","float","short","ushort","uchar","prop","split","filter","k","startsWith","_p","dataView","q_polycam","rgba","Uint8ClampedArray","rot","r0","r1","r2","r3","forEach","getFloat32","getInt32","exp","temp","ShaderProgram","renderer","passes","_scene","_camera","_started","_initialized","_renderer","gl","_program","createProgram","_passes","vertexShader","createShader","VERTEX_SHADER","shaderSource","_getVertexSource","compileShader","getShaderParameter","COMPILE_STATUS","error","getShaderInfoLog","fragmentShader","FRAGMENT_SHADER","_getFragmentSource","attachShader","program","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","resize","useProgram","_resize","initialize","_initialize","pass","render","dispose","_render","_dispose","started","loadWasm","moduleArg","readyPromiseResolve","readyPromiseReject","Module","reject","readBinary","moduleOverrides","Object","assign","scriptDirectory","self","location","substr","replace","lastIndexOf","xhr","XMLHttpRequest","open","responseType","send","response","bind","wasmBinary","wasmMemory","err","tryParseAsDataURI","filename","isDataURI","decoded","atob","bytes","charCodeAt","intArrayFromBase64","dataURIPrefix","WebAssembly","abort","HEAP8","HEAPU8","HEAP16","HEAPU16","HEAP32","HEAPU32","HEAPF32","HEAPF64","ABORT","updateMemoryViews","Int8Array","Int16Array","Uint16Array","Int32Array","Uint32Array","Float64Array","__ATPRERUN__","__ATINIT__","__ATPOSTRUN__","runDependencies","dependenciesFulfilled","what","RuntimeError","wasmBinaryFile","path","getBinaryPromise","binaryFile","then","binary","getBinarySync","instantiateAsync","imports","callback","receiver","instantiate","reason","instantiateArrayBuffer","callRuntimeCallbacks","callbacks","shift","embind_charCodes","BindingError","readLatin1String","ptr","ret","c","awaitingDependencies","registeredTypes","throwBindingError","message","registerType","rawType","registeredInstance","options","TypeError","hasOwnProperty","ignoreDuplicateRegistrations","cb","sharedRegisterType","emval_freelist","emval_handles","count_emval_handles","Emval","handle","pop","readPointer","pointer","EmValType","fromWireType","rv","__emval_decref","toWireType","destructors","argPackAdvance","readValueFromPointer","destructorFunction","floatReadValueFromPointer","integerReadValueFromPointer","signed","UTF8Decoder","UTF8ToString","maxBytesToRead","heapOrArray","idx","endIdx","endPtr","subarray","str","u0","u1","u2","String","fromCharCode","ch","UTF8ArrayToString","UTF16Decoder","UTF16ToString","maxIdx","codeUnit","stringToUTF16","outPtr","maxBytesToWrite","startPtr","numCharsToWrite","lengthBytesUTF16","UTF32ToString","utf32","stringToUTF32","lengthBytesUTF32","len","growMemory","size","pages","grow","codes","Array","embind_init_charCodes","wasmImports","f","primitiveType","minRange","maxRange","trueValue","falseValue","wt","o","h","bitshift","isUnsignedType","includes","dataTypeIndex","TA","decodeMemoryView","d","stdStringIsUTF8","payload","decodeStartPtr","currentBytePtr","stringSegment","_free","valueIsOfTypeString","lengthBytesUTF8","base","_malloc","heap","outIdx","u","startIdx","stringToUTF8Array","charCode","charSize","decodeString","encodeString","readCharAt","lengthBytesUTF","j","isVoid","g","requestedSize","oldSize","maxHeapSize","multiple","cutDown","overGrownHeapSize","newSize","wasmExports","info","receiveInstance","instance","module","exports","unshift","id","removeRunDependency","catch","createWasm","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a10","calledRun","run","doRun","postRun","preRun","setTimeout","runCaller","ready","RenderData","dataChanged","transformsChanged","_updating","_dirty","splatIndex","_splatIndices","_offsets","lookup","ceil","_transformsWidth","_transformsHeight","_transforms","_transformIndicesWidth","_transformIndicesHeight","_transformIndices","_worker","DataWorker","updateTransform","wasmModule","onmessage","worldPositions","worldRotations","worldScales","initWasm","buildImmediate","waitForWasm","positionsPtr","rotationsPtr","scalesPtr","colorsPtr","selectionPtr","dataPtr","worldPositionsPtr","worldRotationsPtr","worldScalesPtr","_pack","outData","build","serializedSplat","postMessage","getSplat","key","getLocalIndex","markDirty","rebuild","clear","terminate","keys","transforms","transformsWidth","transformsHeight","transformIndices","transformIndicesWidth","transformIndicesHeight","needsRebuild","updating","Color32","r","flatNorm","toHexString","map","padStart","RenderProgram","_outlineThickness","_outlineColor","_renderData","_depthIndex","_chunks","_splatTexture","canvas","worker","u_projection","u_viewport","u_focal","u_view","u_texture","u_transforms","u_transformIndices","u_outlineThickness","u_outlineColor","positionAttribute","indexAttribute","transformsTexture","transformIndicesTexture","vertexBuffer","indexBuffer","getUniformLocation","uniformMatrix4fv","uniform2fv","createWorker","SortWorker","depthIndex","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","handleObjectAdded","handleObjectRemoved","handleObjectChanged","uniform1f","outlineThickness","uniform4fv","outlineColor","createTexture","uniform1i","createBuffer","getAttribLocation","enableVertexAttribArray","vertexAttribPointer","FLOAT","renderData","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","splatTexture","texParameteri","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","texImage2D","RGBA32UI","RGBA_INTEGER","UNSIGNED_INT","TEXTURE1","RGBA32F","RGBA","TEXTURE2","R32UI","RED_INTEGER","detachedPositions","detachedTransforms","detachedTransformIndices","sortData","viewport","clearColor","COLOR_BUFFER_BIT","disable","DEPTH_TEST","enable","BLEND","blendFuncSeparate","ONE_MINUS_DST_ALPHA","ONE","blendEquationSeparate","FUNC_ADD","vertexAttribIPointer","INT","vertexAttribDivisor","drawArraysInstanced","TRIANGLE_FAN","deleteTexture","deleteBuffer","_setOutlineThickness","_setOutlineColor","FadeInPass","speed","renderProgram","u_useDepthFade","u_depthFade","active","_a","WebGLRenderer","optionalCanvas","optionalRenderPasses","transparent","_backgroundColor","style","display","boxSizing","margin","padding","appendChild","background","_canvas","_gl","getContext","antialias","renderPasses","_renderProgram","programs","clientWidth","clientHeight","addProgram","removeProgram","backgroundColor","OrbitControls","beta","radius","enableKeyboardControls","inputTarget","minAngle","maxAngle","minZoom","maxZoom","orbitSpeed","panSpeed","zoomSpeed","dampening","setCameraTarget","enablePan","enableZoom","enableRotate","desiredTarget","desiredAlpha","desiredBeta","desiredRadius","dragging","panning","lastDist","lastX","lastY","autoRotate","autoRotateSpeed","isUpdatingCamera","eulerRotation","newTarget","dx","dy","dz","computeZoomNorm","onKeyDown","code","onKeyUp","onMouseDown","preventDefault","button","clientX","clientY","window","onMouseUp","onMouseMove","zoomNorm","panX","panY","right","up","onWheel","deltaY","onTouchStart","touches","distX","distY","onTouchEnd","onTouchMove","dist","touchX","touchY","direction","rx","ry","moveSpeed","rotateSpeed","stopPropagation","Plane","normal","point","intersect","origin","denominator","ShaderPass","currentScript","src","a11","a12","IntersectionTester","viewPtr","transformsPtr","transformIndicesPtr","depthIndexPtr","chunksPtr","originPtr","directionPtr","resultPtr","allocatedVertexCount","allocatedTransformCount","testPoint","targetAllocatedVertexCount","pow","log2","targetAllocatedTransformCount","transformCount","normalizedX","normalizedY","floor","ray","_evaluate"],"mappings":"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E,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAEtIuE,GACIvE,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAEnIuE,IACKvE,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAEhIuE,IACKvE,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAEtIuE,GACIvE,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,IAErIuE,IACKvE,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAAE,IAAMA,EAAE,IAAMA,EAAE,GAAKA,EAAE,GAAKA,EAA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"}